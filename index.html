<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YMJ STAGE</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
:root {
--primary: #1a365d;
--secondary: #d4af37;
--accent: #9e2b25;
--bg-light: #f8f9fa;
--text-dark: #2d3748;
--text-light: #718096;
--border: #e2e8f0;
--success: #48bb78;
--error: #f56565;
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Lato', sans-serif;
line-height: 1.6;
color: var(--text-dark);
background-color: var(--bg-light);
overflow-x: hidden;
}

h1, h2, h3, h4, h5, h6 {
font-family: 'Playfair Display', serif;
font-weight: 700;
color: var(--primary);
}

.container {
max-width: 1200px;
margin: 0 auto;
padding: 0 20px;
}

/* Admin Login Styles */
.admin-login {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.9);
display: none;
justify-content: center;
align-items: center;
z-index: 10000;
}

.admin-login.active {
display: flex;
}

.login-form {
background: white;
padding: 3rem;
border-radius: 15px;
box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
max-width: 400px;
width: 90%;
animation: slideUp 0.3s ease;
}

@keyframes slideUp {
from {
opacity: 0;
transform: translateY(30px);
}
to {
opacity: 1;
transform: translateY(0);
}
}

.login-form h2 {
text-align: center;
margin-bottom: 2rem;
color: var(--primary);
}

.login-form .form-group {
margin-bottom: 1.5rem;
}

.login-form label {
display: block;
margin-bottom: 0.5rem;
font-weight: 600;
color: var(--text-dark);
}

.login-form input {
width: 100%;
padding: 12px;
border: 2px solid var(--border);
border-radius: 8px;
font-size: 1rem;
transition: border-color 0.3s ease;
}

.login-form input:focus {
outline: none;
border-color: var(--primary);
}

.login-buttons {
display: flex;
gap: 1rem;
margin-top: 2rem;
}

.login-buttons button {
flex: 1;
padding: 12px;
border: none;
border-radius: 8px;
font-size: 1rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}

.btn-login {
background: var(--primary);
color: white;
}

.btn-login:hover {
background: #2c5282;
}

.btn-cancel {
background: var(--border);
color: var(--text-dark);
}

.btn-cancel:hover {
background: #cbd5e0;
}

.login-error {
background: #f8d7da;
color: #721c24;
border: 1px solid #f5c6cb;
padding: 10px;
border-radius: 5px;
margin-bottom: 1rem;
font-size: 0.9rem;
display: none;
}

.login-attempts {
text-align: center;
margin-top: 1rem;
font-size: 0.8rem;
color: var(--text-light);
}

/* Admin Dashboard Styles */
.admin-dashboard {
position: fixed;
top: 0;
right: -500px;
width: 500px;
height: 100%;
background: white;
box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
transition: right 0.3s ease;
z-index: 9999;
overflow-y: auto;
}

.admin-dashboard.active {
right: 0;
}

.admin-header {
background: var(--primary);
color: white;
padding: 1.5rem;
display: flex;
justify-content: space-between;
align-items: center;
}

.admin-header h3 {
color: white;
margin: 0;
}

.close-admin {
background: none;
border: none;
color: white;
font-size: 1.5rem;
cursor: pointer;
transition: transform 0.3s ease;
}

.close-admin:hover {
transform: rotate(90deg);
}

.admin-content {
padding: 1.5rem;
}

.admin-section {
margin-bottom: 2rem;
padding-bottom: 2rem;
border-bottom: 1px solid var(--border);
}

.admin-section:last-child {
border-bottom: none;
}

.admin-section h4 {
margin-bottom: 1rem;
color: var(--primary);
font-size: 1.1rem;
}

.upload-area {
border: 2px dashed var(--border);
border-radius: 10px;
padding: 1.5rem;
text-align: center;
transition: all 0.3s ease;
cursor: pointer;
background: var(--bg-light);
margin-bottom: 1rem;
position: relative;
}

.upload-area:hover {
border-color: var(--primary);
background: rgba(26, 54, 93, 0.05);
}

.upload-area.dragover {
border-color: var(--secondary);
background: rgba(212, 175, 55, 0.1);
}

.upload-area.uploading {
pointer-events: none;
opacity: 0.7;
}

.upload-icon {
font-size: 2rem;
color: var(--text-light);
margin-bottom: 0.5rem;
}

.upload-text {
color: var(--text-dark);
margin-bottom: 0.5rem;
font-size: 0.9rem;
}

.upload-hint {
color: var(--text-light);
font-size: 0.8rem;
}

.file-input {
display: none;
}

.image-manager {
margin-top: 1rem;
}

.current-image {
position: relative;
border-radius: 8px;
overflow: hidden;
background: var(--bg-light);
margin-bottom: 1rem;
}

.current-image img {
width: 100%;
height: 150px;
object-fit: cover;
display: block;
}

.image-info {
padding: 0.5rem;
background: rgba(0, 0, 0, 0.7);
color: white;
font-size: 0.8rem;
}

.image-actions {
position: absolute;
top: 5px;
right: 5px;
display: flex;
gap: 5px;
}

.image-actions button {
background: rgba(0, 0, 0, 0.7);
color: white;
border: none;
width: 30px;
height: 30px;
border-radius: 50%;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
}

.image-actions button:hover {
background: var(--accent);
transform: scale(1.1);
}

/* Admin Toggle Button */
.admin-toggle {
position: fixed;
bottom: 30px;
right: 30px;
width: 60px;
height: 60px;
background: var(--primary);
color: white;
border: none;
border-radius: 50%;
font-size: 1.5rem;
cursor: pointer;
box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
transition: all 0.3s ease;
z-index: 1000;
display: flex;
align-items: center;
justify-content: center;
}

.admin-toggle:hover {
background: var(--accent);
transform: scale(1.1);
}

.admin-toggle.logged-in {
background: var(--secondary);
}

/* Event Management Styles */
.event-manager {
margin-top: 1rem;
}

.event-list {
margin-top: 1rem;
}

.event-item {
background: var(--bg-light);
border-radius: 8px;
padding: 1rem;
margin-bottom: 1rem;
position: relative;
}

.event-item-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 0.5rem;
}

.event-item-title {
font-weight: 600;
color: var(--primary);
}

.event-item-date {
font-size: 0.9rem;
color: var(--text-light);
}

.event-item-actions {
display: flex;
gap: 0.5rem;
}

.event-item-actions button {
background: none;
border: none;
color: var(--text-light);
cursor: pointer;
transition: color 0.3s ease;
}

.event-item-actions button:hover {
color: var(--accent);
}

.event-form {
background: var(--bg-light);
border-radius: 8px;
padding: 1rem;
margin-bottom: 1rem;
}

.event-form-group {
margin-bottom: 1rem;
}

.event-form-group label {
display: block;
margin-bottom: 0.5rem;
font-weight: 600;
color: var(--text-dark);
}

.event-form-group input,
.event-form-group textarea {
width: 100%;
padding: 10px;
border: 1px solid var(--border);
border-radius: 5px;
font-family: inherit;
}

.event-form-group textarea {
min-height: 100px;
resize: vertical;
}

.event-form-buttons {
display: flex;
gap: 0.5rem;
justify-content: flex-end;
}

.btn-small {
padding: 8px 15px;
border: none;
border-radius: 5px;
font-size: 0.9rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}

.btn-save {
background: var(--success);
color: white;
}

.btn-save:hover {
background: #38a169;
}

.btn-cancel {
background: var(--border);
color: var(--text-dark);
}

.btn-cancel:hover {
background: #cbd5e0;
}

.btn-add {
background: var(--primary);
color: white;
}

.btn-add:hover {
background: #2c5282;
}

/* Text Editor Styles */
.text-editor {
margin-top: 1rem;
}

.text-editor textarea {
width: 100%;
min-height: 150px;
padding: 10px;
border: 1px solid var(--border);
border-radius: 5px;
font-family: inherit;
resize: vertical;
}

.text-editor-buttons {
display: flex;
gap: 0.5rem;
justify-content: flex-end;
margin-top: 0.5rem;
}

/* Info Box for Image Storage */
.info-box {
background: #e6f7ff;
border-left: 4px solid #1890ff;
padding: 1rem;
margin-bottom: 1rem;
border-radius: 0 4px 4px 0;
}

.info-box p {
margin: 0;
font-size: 0.9rem;
color: var(--text-dark);
}

/* Upload Progress Bar */
.upload-progress {
position: absolute;
bottom: 0;
left: 0;
height: 3px;
background: var(--primary);
border-radius: 0 0 8px 8px;
transition: width 0.3s ease;
}

/* Firebase Status */
.firebase-status {
padding: 10px;
margin-bottom: 1rem;
border-radius: 5px;
text-align: center;
font-size: 0.9rem;
}

.firebase-status.connected {
background: #d4edda;
color: #155724;
border: 1px solid #c3e6cb;
}

.firebase-status.disconnected {
background: #f8d7da;
color: #721c24;
border: 1px solid #f5c6cb;
}

/* Security Info */
.security-info {
background: #fff3cd;
border-left: 4px solid #ffc107;
padding: 1rem;
margin-bottom: 1rem;
border-radius: 0 4px 4px 0;
}

.security-info p {
margin: 0;
font-size: 0.9rem;
color: #856404;
}

/* Splash Screen Styles */
.splash-screen {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);
display: flex;
justify-content: center;
align-items: center;
z-index: 9999;
transition: opacity 0.8s ease, visibility 0.8s ease;
cursor: pointer;
}

.splash-content {
text-align: center;
animation: fadeIn 1.5s ease;
}

.splash-logo {
width: 200px;
height: auto;
margin-bottom: 30px;
cursor: pointer;
transition: transform 0.3s ease;
border-radius: 10px;
}

.splash-logo:hover {
transform: scale(1.05);
}

.splash-text {
color: white;
font-family: 'Playfair Display', serif;
font-size: 1.8rem;
font-weight: 700;
margin-bottom: 10px;
}

.splash-subtext {
color: var(--secondary);
font-size: 1rem;
font-weight: 300;
}

.splash-hint {
position: absolute;
bottom: 30px;
left: 0;
width: 100%;
text-align: center;
color: rgba(255, 255, 255, 0.7);
font-size: 0.9rem;
animation: pulse 2s infinite;
}

@keyframes pulse {
0% { opacity: 0.5; }
50% { opacity: 1; }
100% { opacity: 0.5; }
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(20px); }
to { opacity: 1; transform: translateY(0); }
}

.main-content {
opacity: 0;
visibility: hidden;
transition: opacity 0.8s ease, visibility 0.8s ease;
}

.main-content.active {
opacity: 1;
visibility: visible;
}

/* Header Styles */
header {
background: white;
box-shadow: 0 2px 10px rgba(0,0,0,0.1);
position: fixed;
width: 100%;
top: 0;
z-index: 1000;
transition: all 0.3s ease;
}

nav {
display: flex;
justify-content: space-between;
align-items: center;
padding: 1rem 0;
}

.logo-container {
display: flex;
align-items: center;
gap: 15px;
}

.logo-img {
height: 50px;
width: auto;
transition: transform 0.3s ease;
border-radius: 5px;
}

.logo-img:hover {
transform: scale(1.05);
}

.logo-text {
font-family: 'Playfair Display', serif;
font-size: 1.5rem;
color: var(--primary);
text-decoration: none;
font-weight: 700;
}

.nav-menu {
display: flex;
list-style: none;
gap: 2rem;
}

.nav-menu a {
color: var(--text-dark);
text-decoration: none;
transition: color 0.3s ease;
font-weight: 500;
}

.nav-menu a:hover {
color: var(--accent);
}

.language-selector {
display: flex;
gap: 1rem;
align-items: center;
}

.lang-btn {
background: none;
border: none;
cursor: pointer;
font-size: 1.2rem;
transition: transform 0.3s ease;
}

.lang-btn:hover {
transform: scale(1.2);
}

.lang-btn.active {
color: var(--accent);
}

.mobile-menu-toggle {
display: none;
background: none;
border: none;
font-size: 1.5rem;
cursor: pointer;
color: var(--primary);
}

/* Hero Section */
.hero {
margin-top: 80px;
min-height: 100vh;
display: flex;
align-items: center;
background: linear-gradient(135deg, var(--primary) 0%, #2c5282 100%);
color: white;
position: relative;
overflow: hidden;
}

.hero-bg {
position: absolute;
top: 0;
left: 0;
right: 0;
background-size: cover;
background-position: center;
opacity: 0.2;
transition: opacity 0.5s ease;
}

.hero-content {
position: relative;
z-index: 1;
text-align: center;
padding: 2rem;
}

.hero h1 {
font-size: 3.5rem;
margin-bottom: 1rem;
color: white;
animation: fadeInUp 1s ease;
}

.hero-subtitle {
font-size: 1.5rem;
margin-bottom: 2rem;
font-weight: 300;
animation: fadeInUp 1s ease 0.2s;
animation-fill-mode: both;
}

.hero-description {
max-width: 800px;
margin: 0 auto 2rem;
font-size: 1.1rem;
line-height: 1.8;
animation: fadeInUp 1s ease 0.4s;
animation-fill-mode: both;
}

.hero-buttons {
display: flex;
gap: 1rem;
justify-content: center;
flex-wrap: wrap;
animation: fadeInUp 1s ease 0.6s;
animation-fill-mode: both;
}

.btn {
padding: 12px 30px;
border: none;
border-radius: 50px;
font-size: 1rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
text-decoration: none;
display: inline-block;
}

.btn-primary {
background: var(--secondary);
color: var(--primary);
}

.btn-primary:hover {
background: #b8941f;
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
}

.btn-secondary {
background: transparent;
color: white;
border: 2px solid white;
}

.btn-secondary:hover {
background: white;
color: var(--primary);
transform: translateY(-2px);
}

/* Section Styles */
section {
padding: 80px 0;
}

.section-title {
text-align: center;
font-size: 2.5rem;
margin-bottom: 3rem;
position: relative;
}

.section-title::after {
content: '';
position: absolute;
bottom: -10px;
left: 50%;
transform: translateX(-50%);
width: 80px;
height: 3px;
background: var(--secondary);
}

/* Mission Section */
.mission {
background: white;
}

.mission-content {
max-width: 800px;
margin: 0 auto;
text-align: center;
font-size: 1.1rem;
line-height: 1.8;
}

.mission-highlight {
color: var(--accent);
font-weight: 700;
font-size: 1.3rem;
margin: 2rem 0;
}

/* Events Section */
.events {
background: var(--bg-light);
}

.events-timeline {
max-width: 1000px;
margin: 0 auto;
}

.year-group {
margin-bottom: 3rem;
}

.year-header {
display: flex;
align-items: center;
margin-bottom: 1.5rem;
}

.year-badge {
background: var(--primary);
color: white;
font-family: 'Playfair Display', serif;
font-size: 1.8rem;
padding: 0.5rem 1.5rem;
border-radius: 50px;
margin-right: 1.5rem;
}

.year-line {
flex-grow: 1;
height: 2px;
background: var(--border);
}

.events-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 1.5rem;
}

.event-card {
background: white;
border-radius: 10px;
padding: 1.5rem;
box-shadow: 0 5px 15px rgba(0,0,0,0.05);
transition: all 0.3s ease;
border-left: 4px solid var(--secondary);
}

.event-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.event-date {
color: var(--text-light);
font-size: 0.9rem;
margin-bottom: 0.5rem;
}

.event-title {
font-size: 1.3rem;
margin-bottom: 0.5rem;
color: var(--primary);
}

.event-location {
display: flex;
align-items: center;
color: var(--text-light);
font-size: 0.9rem;
margin-bottom: 1rem;
}

.event-location i {
margin-right: 0.5rem;
color: var(--accent);
}

.event-description {
line-height: 1.6;
margin-bottom: 1rem;
}

.event-link {
color: var(--accent);
font-weight: 600;
text-decoration: none;
display: inline-flex;
align-items: center;
transition: all 0.3s ease;
}

.event-link:hover {
color: var(--primary);
}

.event-link i {
margin-left: 0.5rem;
transition: transform 0.3s ease;
}

.event-link:hover i {
transform: translateX(5px);
}

/* Event Detail Modal */
.event-detail-modal {
display: none;
position: fixed;
z-index: 20000;
left: 0;
top: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.8);
animation: fadeIn 0.3s ease;
overflow-y: auto;
}

.event-detail-content {
background-color: white;
margin: 5% auto;
padding: 2rem;
border-radius: 10px;
width: 90%;
max-width: 800px;
position: relative;
animation: slideUp 0.3s ease;
}

.event-detail-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 1.5rem;
border-bottom: 1px solid var(--border);
padding-bottom: 1rem;
}

.event-detail-title {
font-size: 1.8rem;
color: var(--primary);
}

.event-detail-close {
background: none;
border: none;
font-size: 1.5rem;
cursor: pointer;
color: var(--text-light);
transition: color 0.3s ease;
}

.event-detail-close:hover {
color: var(--accent);
}

.event-detail-body {
line-height: 1.8;
}

.event-detail-image {
width: 100%;
height: 300px;
object-fit: cover;
border-radius: 8px;
margin-bottom: 1.5rem;
}

/* Featured Project */
.featured-project {
background: var(--bg-light);
}

.project-card {
background: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 10px 30px rgba(0,0,0,0.1);
transition: transform 0.3s ease;
}

.project-card:hover {
transform: translateY(-5px);
}

.project-image {
height: 300px;
position: relative;
overflow: hidden;
}

.project-image img {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.5s ease;
}

.project-card:hover .project-image img {
transform: scale(1.05);
}

.project-content {
padding: 2rem;
}

.project-title {
font-size: 1.8rem;
margin-bottom: 1rem;
color: var(--primary);
}

.project-description {
margin-bottom: 1.5rem;
line-height: 1.8;
}

/* Artists Section */
.artists-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 2rem;
margin-top: 3rem;
}

.artist-card {
background: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 5px 20px rgba(0,0,0,0.1);
transition: all 0.3s ease;
}

.artist-card:hover {
transform: translateY(-5px);
box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.artist-image {
height: 250px;
position: relative;
overflow: hidden;
}

.artist-image img {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.5s ease;
}

.artist-card:hover .artist-image img {
transform: scale(1.1);
}

.artist-info {
padding: 1.5rem;
}

.artist-name {
font-size: 1.5rem;
margin-bottom: 0.5rem;
color: var(--primary);
}

.artist-role {
color: var(--text-light);
margin-bottom: 1rem;
}

.artist-bio {
line-height: 1.6;
margin-bottom: 1rem;
}

.artist-links {
display: flex;
gap: 1rem;
}

.artist-links a {
color: var(--accent);
text-decoration: none;
font-weight: 500;
transition: color 0.3s ease;
}

.artist-links a:hover {
color: var(--primary);
}

/* Gallery Section */
.gallery-container {
margin-top: 2rem;
}

.gallery-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
gap: 1rem;
margin-bottom: 2rem;
}

.gallery-item {
position: relative;
overflow: hidden;
border-radius: 10px;
height: 200px;
cursor: pointer;
transition: transform 0.3s ease;
}

.gallery-item:hover {
transform: scale(1.02);
}

.gallery-item img {
width: 100%;
height: 100%;
object-fit: cover;
transition: transform 0.5s ease;
}

.gallery-item:hover img {
transform: scale(1.1);
}

.gallery-overlay {
position: absolute;
bottom: 0;
left: 0;
right: 0;
background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
color: white;
padding: 1rem;
transform: translateY(100%);
transition: transform 0.3s ease;
}

.gallery-item:hover .gallery-overlay {
transform: translateY(0);
}

.gallery-info {
text-align: center;
margin-bottom: 2rem;
color: var(--text-light);
}

.gallery-count {
font-size: 1.1rem;
margin-bottom: 0.5rem;
}

.gallery-view-all {
color: var(--primary);
font-weight: 600;
text-decoration: none;
display: inline-flex;
align-items: center;
transition: all 0.3s ease;
padding: 10px 20px;
border: 2px solid var(--primary);
border-radius: 50px;
}

.gallery-view-all:hover {
background: var(--primary);
color: white;
transform: translateY(-2px);
}

.gallery-view-all i {
margin-left: 0.5rem;
}

/* Full Gallery Modal */
.full-gallery-modal {
display: none;
position: fixed;
z-index: 20000;
left: 0;
top: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.95);
animation: fadeIn 0.3s ease;
overflow-y: auto;
}

.full-gallery-content {
max-width: 1400px;
margin: 0 auto;
padding: 2rem;
}

.full-gallery-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 2rem;
color: white;
}

.full-gallery-header h2 {
color: white;
margin: 0;
}

.close-full-gallery {
background: none;
border: none;
color: white;
font-size: 2rem;
cursor: pointer;
transition: transform 0.3s ease;
}

.close-full-gallery:hover {
transform: rotate(90deg);
}

.full-gallery-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
gap: 1rem;
}

.full-gallery-item {
position: relative;
border-radius: 10px;
overflow: hidden;
cursor: pointer;
transition: transform 0.3s ease;
}

.full-gallery-item:hover {
transform: scale(1.05);
}

.full-gallery-item img {
width: 100%;
height: 200px;
object-fit: cover;
display: block;
}

.full-gallery-overlay {
position: absolute;
bottom: 0;
left: 0;
right: 0;
background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
color: white;
padding: 0.5rem;
font-size: 0.8rem;
}

/* Community Section */
.community {
background: white;
}

.community-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 2rem;
margin-top: 3rem;
}

.community-card {
text-align: center;
padding: 2rem;
border-radius: 10px;
background: var(--bg-light);
transition: all 0.3s ease;
}

.community-card:hover {
background: var(--primary);
color: white;
transform: translateY(-5px);
}

.community-card i {
font-size: 3rem;
color: var(--secondary);
margin-bottom: 1rem;
}

.community-card:hover i {
color: white;
}

.community-card h3 {
margin-bottom: 1rem;
color: var(--primary);
}

.community-card:hover h3 {
color: white;
}

/* Contact Section */
.contact {
background: var(--primary);
color: white;
}

.contact .section-title {
color: white;
}

.contact-content {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 3rem;
margin-top: 3rem;
}

.contact-info {
display: flex;
flex-direction: column;
gap: 1.5rem;
}

.contact-item {
display: flex;
align-items: center;
gap: 1rem;
}

.contact-item i {
font-size: 1.5rem;
color: var(--secondary);
}

.contact-form {
background: white;
padding: 2rem;
border-radius: 10px;
color: var(--text-dark);
position: relative;
}

.form-group {
margin-bottom: 1.5rem;
}

.form-group label {
display: block;
margin-bottom: 0.5rem;
font-weight: 600;
}

.form-group input,
.form-group textarea,
.form-group select {
width: 100%;
padding: 12px;
border: 1px solid var(--border);
border-radius: 5px;
font-family: inherit;
transition: border-color 0.3s ease;
}

.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
outline: none;
border-color: var(--accent);
}

/* Success/Error Messages */
.form-message {
padding: 15px;
border-radius: 5px;
margin-bottom: 1rem;
display: none;
animation: slideDown 0.3s ease;
}

.form-message.success {
background-color: #d4edda;
color: #155724;
border: 1px solid #c3e6cb;
}

.form-message.error {
background-color: #f8d7da;
color: #721c24;
border: 1px solid #f5c6cb;
}

@keyframes slideDown {
from {
opacity: 0;
transform: translateY(-10px);
}
to {
opacity: 1;
transform: translateY(0);
}
}

/* Newsletter Section */
.newsletter {
background: var(--bg-light);
padding: 60px 0;
}

.newsletter-content {
max-width: 600px;
margin: 0 auto;
text-align: center;
}

.newsletter-form {
display: flex;
gap: 1rem;
margin-top: 2rem;
flex-wrap: wrap;
justify-content: center;
}

.newsletter-form input {
flex: 1;
min-width: 250px;
padding: 12px 20px;
border: 1px solid var(--border);
border-radius: 50px;
font-family: inherit;
}

/* Survey Section */
.survey {
background: white;
padding: 60px 0;
}

.survey-form {
max-width: 800px;
margin: 0 auto;
background: var(--bg-light);
padding: 2rem;
border-radius: 10px;
}

.survey-question {
margin-bottom: 2rem;
}

.survey-question h4 {
color: var(--primary);
margin-bottom: 1rem;
}

.radio-group,
.checkbox-group {
display: flex;
flex-direction: column;
gap: 0.5rem;
}

.radio-group label,
.checkbox-group label {
display: flex;
align-items: center;
gap: 0.5rem;
cursor: pointer;
padding: 0.5rem;
border-radius: 5px;
transition: background-color 0.3s ease;
}

.radio-group label:hover,
.checkbox-group label:hover {
background-color: rgba(0,0,0,0.05);
}

/* Footer */
footer {
background: var(--text-dark);
color: white;
text-align: center;
padding: 2rem 0;
}

.social-links {
display: flex;
justify-content: center;
gap: 1.5rem;
margin-bottom: 1rem;
}

.social-links a {
color: white;
font-size: 1.5rem;
transition: color 0.3s ease;
}

.social-links a:hover {
color: var(--secondary);
}

/* Animations */
@keyframes fadeInUp {
from {
opacity: 0;
transform: translateY(30px);
}
to {
opacity: 1;
transform: translateY(0);
}
}

.fade-in {
opacity: 0;
transform: translateY(30px);
transition: all 0.6s ease;
}

.fade-in.visible {
opacity: 1;
transform: translateY(0);
}

/* Responsive Design */
@media (max-width: 768px) {
.nav-menu {
display: none;
position: absolute;
top: 100%;
left: 0;
width: 100%;
background: white;
flex-direction: column;
padding: 1rem;
box-shadow: 0 5px 10px rgba(0,0,0,0.1);
}

.nav-menu.active {
display: flex;
}

.mobile-menu-toggle {
display: block;
}

.hero h1 {
font-size: 2.5rem;
}

.hero-subtitle {
font-size: 1.2rem;
}

.section-title {
font-size: 2rem;
}

.hero-buttons {
flex-direction: column;
align-items: center;
}

.btn {
width: 200px;
}

.newsletter-form {
flex-direction: column;
}

.newsletter-form input {
width: 100%;
}

.year-header {
flex-direction: column;
align-items: flex-start;
}

.year-badge {
margin-bottom: 1rem;
margin-right: 0;
}

.year-line {
width: 100%;
}

.admin-dashboard {
width: 100%;
right: -100%;
}

.full-gallery-grid {
grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
}
}

/* Hidden content for different languages */
.content-en, .content-id, .content-zh {
display: none;
}

.content-en.active, .content-id.active, .content-zh.active {
display: block;
}

/* Image Modal */
.image-modal {
display: none;
position: fixed;
z-index: 20000;
left: 0;
top: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.9);
animation: fadeIn 0.3s ease;
}

.image-modal-content {
margin: auto;
display: block;
max-width: 90%;
max-height: 90%;
margin-top: 5%;
border-radius: 10px;
}

.image-modal-close {
position: absolute;
top: 20px;
right: 35px;
color: #f1f1f1;
font-size: 40px;
font-weight: bold;
cursor: pointer;
}

.image-modal-close:hover {
color: var(--secondary);
}

@keyframes fadeIn {
from {opacity: 0}
to {opacity: 1}
}

/* Loading Spinner */
.spinner {
display: none;
width: 20px;
height: 20px;
border: 3px solid rgba(0,0,0,0.1);
border-top-color: var(--primary);
border-radius: 50%;
animation: spin 1s linear infinite;
}

@keyframes spin {
to { transform: rotate(360deg); }
}

.btn.loading .spinner {
display: inline-block;
margin-left: 10px;
}

/* Placeholder styles for when no image is uploaded */
.placeholder-image {
width: 100%;
height: 100%;
background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%),
linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),
linear-gradient(45deg, transparent 75%, #f0f0f0 75%,
linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
background-size: 20px 20px;
background-position: 0 0, 0 10px, 0 10px;
display: flex;
align-items: center;
justify-content: center;
color: #999;
font-size: 0.9rem;
}

/* Gallery counter badge */
.gallery-counter {
background: var(--primary);
color: white;
padding: 0.25rem 0.5rem;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 600;
margin-right: 0.5rem;
}

/* Upload success message */
.upload-success {
padding: 10px 20px;
background: var(--success);
color: white;
border-radius: 8px;
margin-top: 1rem;
text-align: center;
animation: slideDown 0.3s ease;
}

/* Multiple file upload styling */
.file-list {
margin-top: 1rem;
max-height: 150px;
overflow-y: auto;
border: 1px solid var(--border);
border-radius: 5px;
padding: 0.5rem;
}

.file-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 0.5rem;
border-bottom: 1px solid var(--border);
}

.file-item:last-child {
border-bottom: none;
}

.file-name {
font-size: 0.9rem;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
max-width: 70%;
}

.file-remove {
background: var(--error);
color: white;
border: none;
border-radius: 3px;
padding: 2px 6px;
font-size: 0.8rem;
cursor: pointer;
}
</style>
</head>
<body>
<!-- Firebase SDK - Load with error handling -->
<script>
// Ganti bagian ini di awal JavaScript (sekitelah tag <script> pertama)
// Hapus atau comment konfigurasi Firebase
// const firebaseConfig = { ... };

// Tambahkan konfigurasi Cloudinary
const CLOUDINARY_CONFIG = {
  cloudName: 'dy8hrbu9c', // GANTI dengan cloud name Anda
  uploadPreset: 'ymj-stage-upload', // GANTI dengan preset Anda
  apiKey: '444569244124917' // GANTI dengan API key Anda
};

// Global variables
let cloudinaryConnected = false;
let imageStorage = 'cloudinary'; // 'cloudinary' atau 'localStorage'

// Update fungsi pengecekan koneksi
function checkStorageConnection() {
  const statusElement = document.getElementById('firebaseStatus');
  const storageInfoElement = document.getElementById('storageInfo');
  
  if (imageStorage === 'cloudinary' && CLOUDINARY_CONFIG.cloudName && CLOUDINARY_CONFIG.apiKey) {
    cloudinaryConnected = true;
    statusElement.textContent = 'Cloudinary Status: Connected';
    statusElement.className = 'firebase-status connected';
    storageInfoElement.textContent = 'Images are stored in Cloudinary and visible to all visitors.';
  } else {
    cloudinaryConnected = false;
    statusElement.textContent = 'Using Local Storage (Fallback)';
    statusElement.className = 'firebase-status disconnected';
    storageInfoElement.textContent = 'Images are stored in your browser\'s local storage.';
  }
}

// Fungsi upload ke Cloudinary
async function uploadImageToCloudinary(file, progressElementId, statusElementId) {
  if (!cloudinaryConnected) {
    throw new Error('Cloudinary not configured');
  }
  
  const progressElement = document.getElementById(progressElementId);
  const statusElement = document.getElementById(statusElementId);
  
  // Show progress
  if (progressElement) {
    progressElement.style.display = 'block';
    progressElement.style.width = '0%';
  }
  
  if (statusElement) {
    statusElement.textContent = 'Uploading...';
  }
  
  try {
    // Create form data
    const formData = new FormData();
    formData.append('file', file);
    formData.append('upload_preset', CLOUDINARY_CONFIG.uploadPreset);
    formData.append('api_key', CLOUDINARY_CONFIG.apiKey);
    
    // Create XMLHttpRequest for progress tracking
    const xhr = new XMLHttpRequest();
    
    // Track upload progress
    xhr.upload.addEventListener('progress', (event) => {
      if (event.lengthComputable) {
        const percentComplete = (event.loaded / event.total) * 100;
        if (progressElement) {
          progressElement.style.width = percentComplete + '%';
        }
      }
    });
    
    // Handle completion
    xhr.addEventListener('load', () => {
      if (xhr.status === 200) {
        const response = JSON.parse(xhr.responseText);
        
        if (response.error) {
          throw new Error(response.error.message);
        }
        
        if (progressElement) {
          progressElement.style.width = '100%';
          setTimeout(() => {
            progressElement.style.display = 'none';
            progressElement.style.width = '0%';
          }, 1000);
        }
        
        if (statusElement) {
          statusElement.textContent = 'Upload complete!';
          statusElement.style.color = 'var(--success)';
        }
        
        return {
          url: response.secure_url,
          publicId: response.public_id,
          provider: 'cloudinary'
        };
      } else {
        throw new Error('Upload failed');
      }
    });
    
    // Handle error
    xhr.addEventListener('error', () => {
      if (progressElement) {
        progressElement.style.display = 'none';
      }
      if (statusElement) {
        statusElement.textContent = 'Upload failed';
        statusElement.style.color = 'var(--error)';
      }
      throw new Error('Network error');
    });
    
    // Send request
    xhr.open('POST', `https://api.cloudinary.com/v1_1/${CLOUDINARY_CONFIG.cloudName}/image/upload`);
    xhr.send(formData);
    
    // Return promise
    return new Promise((resolve, reject) => {
      xhr.addEventListener('load', () => {
        const response = JSON.parse(xhr.responseText);
        if (response.error) {
          reject(new Error(response.error.message));
        } else {
          resolve({
            url: response.secure_url,
            publicId: response.public_id,
            provider: 'cloudinary'
          });
        }
      });
      xhr.addEventListener('error', () => {
        reject(new Error('Network error'));
      });
    });
    
  } catch (error) {
    if (progressElement) {
      progressElement.style.display = 'none';
    }
    if (statusElement) {
      statusElement.textContent = 'Upload failed';
      statusElement.style.color = 'var(--error)';
    }
    throw error;
  }
}

// Fallback ke localStorage
function saveImageToLocalStorage(key, imageData) {
  localStorage.setItem(key, JSON.stringify(imageData));
  updateImageDisplay(key, imageData);
}

// Update fungsi upload utama
function handleFileUpload(input, key) {
  const file = input.files[0];
  if (file && file.type.startsWith('image/')) {
    const uploadArea = document.getElementById(key + 'UploadArea');
    uploadArea.classList.add('uploading');
    
    if (cloudinaryConnected) {
      // Coba upload ke Cloudinary
      uploadImageToCloudinary(file, key + 'Progress', key + 'Status')
        .then(imageData => {
          saveImageToLocalStorage(key, imageData);
          showNotification('Image uploaded to Cloudinary successfully!');
          uploadArea.classList.remove('uploading');
        })
        .catch(error => {
          console.error('Cloudinary upload failed:', error);
          showNotification('Cloudinary upload failed. Using local storage.', 'info');
          
          // Fallback ke localStorage
          const reader = new FileReader();
          reader.onload = function(e) {
            const imageData = {
              id: Date.now() + Math.random(),
              src: e.target.result,
              name: file.name,
              uploadDate: new Date().toISOString(),
              provider: 'localStorage'
            };
            saveImageToLocalStorage(key, imageData);
            uploadArea.classList.remove('uploading');
            showNotification('Image saved to local storage.');
          };
          reader.readAsDataURL(file);
        });
    } else {
      // Langsung ke localStorage
      const reader = new FileReader();
      reader.onload = function(e) {
        const imageData = {
          id: Date.now() + Math.random(),
          src: e.target.result,
          name: file.name,
          uploadDate: new Date().toISOString(),
          provider: 'localStorage'
        };
        saveImageToLocalStorage(key, imageData);
        uploadArea.classList.remove('uploading');
        showNotification('Image saved to local storage.');
      };
      reader.readAsDataURL(file);
    }
  }
}

// Update fungsi load image
function loadImage(key) {
  if (cloudinaryConnected) {
    // Coba load dari Cloudinary (jika ada URL Cloudinary tersimpan)
    const savedData = JSON.parse(localStorage.getItem(key) || 'null');
    if (savedData && savedData.provider === 'cloudinary') {
      return savedData;
    }
  }
  
  // Fallback ke localStorage
  const data = localStorage.getItem(key);
  return data ? JSON.parse(data) : null;
}

// Update fungsi saveImage
function saveImage(key, imageData) {
  if (cloudinaryConnected && imageData.provider === 'cloudinary') {
    // Sudah di Cloudinary, simpan di localStorage
    localStorage.setItem(key, JSON.stringify(imageData));
  } else {
    // Hanya localStorage
    localStorage.setItem(key, JSON.stringify(imageData));
  }
  updateImageDisplay(key, imageData);
}

// Update fungsi handleGalleryUpload
function handleGalleryUpload(input) {
  const files = input.files;
  if (files.length === 0) return;
  
  let galleryData = JSON.parse(localStorage.getItem('ymjGallery') || '[]');
  let uploadedCount = 0;
  
  // Update status
  const statusElement = document.getElementById('galleryStatus');
  if (statusElement) {
    statusElement.textContent = `Uploading ${files.length} image(s)...`;
  }
  
  Array.from(files).forEach(file => {
    if (file.type.startsWith('image/')) {
      if (cloudinaryConnected) {
        uploadImageToCloudinary(file, 'galleryProgress', 'galleryStatus')
          .then(imageData => {
            galleryData.push({
              id: Date.now() + Math.random(),
              src: imageData.url,
              name: file.name,
              publicId: imageData.publicId,
              uploadDate: new Date().toISOString(),
              provider: 'cloudinary'
            });
            
            uploadedCount++;
            
            if (uploadedCount === files.length) {
              localStorage.setItem('ymjGallery', JSON.stringify(galleryData));
              updateGalleryDisplay(galleryData);
              showNotification(`${files.length} image(s) uploaded successfully!`);
              input.value = '';
              
              if (statusElement) {
                statusElement.textContent = 'All images uploaded!';
                statusElement.style.color = 'var(--success)';
              }
            }
          })
          .catch(error => {
            console.error('Cloudinary upload failed:', error);
            showNotification('Cloudinary upload failed. Using local storage.', 'info');
            
            // Fallback ke localStorage
            const reader = new FileReader();
            reader.onload = function(e) {
              const imageData = {
                id: Date.now() + Math.random(),
                src: e.target.result,
                name: file.name,
                uploadDate: new Date().toISOString(),
                provider: 'localStorage'
              };
              galleryData.push(imageData);
              uploadedCount++;
              
              if (uploadedCount === files.length) {
                localStorage.setItem('ymjGallery', JSON.stringify(galleryData));
                updateGalleryDisplay(galleryData);
                showNotification(`${files.length} image(s) uploaded to local storage!`);
                input.value = '';
              }
            };
            reader.readAsDataURL(file);
          });
      } else {
        // Langsung ke localStorage
        const reader = new FileReader();
        reader.onload = function(e) {
          const imageData = {
            id: Date.now() + Math.random(),
            src: e.target.result,
            name: file.name,
            uploadDate: new Date().toISOString(),
            provider: 'localStorage'
          };
          galleryData.push(imageData);
          uploadedCount++;
          
          if (uploadedCount === files.length) {
            localStorage.setItem('ymjGallery', JSON.stringify(galleryData));
            updateGalleryDisplay(galleryData);
            showNotification(`${files.length} image(s) uploaded!`);
            input.value = '';
          }
        };
        reader.readAsDataURL(file);
      }
    }
  });
}

// Update fungsi loadGalleryImages
function loadGalleryImages() {
  if (cloudinaryConnected) {
    // Coba load dari Cloudinary URLs yang tersimpan
    const galleryData = JSON.parse(localStorage.getItem('ymjGallery') || '[]');
    updateGalleryDisplay(galleryData);
  } else {
    // Load dari localStorage
    const galleryData = JSON.parse(localStorage.getItem('ymjGallery') || '[]');
    updateGalleryDisplay(galleryData);
  }
}

// Update fungsi deleteGalleryImage
function deleteGalleryImage(index) {
  if (confirm('Are you sure you want to delete this gallery image?')) {
    let galleryData = JSON.parse(localStorage.getItem('ymjGallery') || '[]');
    const deletedImage = galleryData[index];
    
    // Jika gambar dari Cloudinary, hapus dari Cloudinary
    if (deletedImage && deletedImage.provider === 'cloudinary') {
      console.log('Cloudinary image would be deleted here in production');
      // Di production, Anda bisa hapus menggunakan Cloudinary API
      // deleteImageFromCloudinary(deletedImage.publicId);
    }
    
    galleryData.splice(index, 1);
    localStorage.setItem('ymjGallery', JSON.stringify(galleryData));
    updateGalleryDisplay(galleryData);
    showNotification('Image deleted successfully!');
  }
}

// Tambahkan fungsi untuk menghapus dari Cloudinary (opsional)
async function deleteImageFromCloudinary(publicId) {
  try {
    const formData = new FormData();
    formData.append('public_id', publicId);
    formData.append('api_key', CLOUDINARY_CONFIG.api_key);
    
    const response = await fetch(
      `https://api.cloudinary.com/v1_1/${CLOUDINARY_CONFIG.cloudName}/image/destroy`,
      {
        method: 'POST',
        body: formData
      }
    );
    
    const result = await response.json();
    return result.result;
  } catch (error) {
    console.error('Failed to delete from Cloudinary:', error);
  }
}

// Update fungsi checkAdminStatus
function checkAdminStatus() {
  const adminStatus = localStorage.getItem('ymjAdminLoggedIn');
  if (adminStatus === 'true') {
    isLoggedIn = true;
    document.getElementById('adminToggle').classList.add('logged-in');
  }
  
  // Check if locked
  const lockedUntil = localStorage.getItem('ymjLockedUntil');
  if (lockedUntil) {
    const now = Date.now();
    const lockTimestamp = parseInt(lockedUntil);
    if (now < lockTimestamp) {
      isLocked = true;
      lockTime = lockTimestamp;
      updateLoginAttempts();
    } else {
      localStorage.removeItem('ymjLockedUntil');
    }
  }
}

// Update fungsi toggleAdminDashboard
function toggleAdminDashboard() {
  const dashboard = document.getElementById('adminDashboard');
  dashboard.classList.toggle('active');

  if (dashboard.classList.contains('active')) {
    loadAllImages();
    loadAllContent();
    loadEvents();
    checkStorageConnection();
  }
}

// Update fungsi loadAllImages
function loadAllImages() {
  // Load all image types
  Object.values(IMAGE_KEYS).forEach(key => {
    const imageData = loadImage(key);
    if (imageData) {
      updateImageDisplay(key, imageData);
    }
  });
  
  // Load gallery images
  loadGalleryImages();
}

// Tambahkan di akhir DOMContentLoaded
document.addEventListener('DOMContentLoaded', function() {
  // Check admin status and load images
  checkAdminStatus();
  loadAllImages();
  loadEvents();
  switchLanguage('en');
  
  // Setup file inputs
  document.getElementById('logoInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjLogo');
  });

  document.getElementById('backgroundInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjBackground');
  });

  document.getElementById('splashLogoInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjSplashLogo');
  });

  document.getElementById('beethovenInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjBeethoven');
  });

  document.getElementById('beethovenDetailInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjBeethovenDetail');
  });

  document.getElementById('japYeoInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjJapYeo');
  });

  document.getElementById('kueiPinInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjKueiPin');
  });

  document.getElementById('japTjiInput').addEventListener('change', function() {
    handleFileUpload(this, 'ymjJapTji');
  });

  // Gallery upload
  document.getElementById('galleryInput').addEventListener('change', function() {
    handleGalleryUpload(this);
  });
});
</script>

<!-- Admin Login Modal -->
<div class="admin-login" id="adminLogin">
<div class="login-form">
<h2>Admin Login</h2>
<div class="login-error" id="loginError"></div>
<form id="loginForm">
<div class="form-group">
<label for="adminUsername">Username</label>
<input type="text" id="adminUsername" placeholder="Enter admin username" required>
</div>
<div class="form-group">
<label for="adminPassword">Password</label>
<input type="password" id="adminPassword" placeholder="Enter admin password" required>
</div>
<div class="login-buttons">
<button type="submit" class="btn-login">Login</button>
<button type="button" class="btn-cancel" onclick="closeAdminLogin()">Cancel</button>
</div>
<div class="login-attempts" id="loginAttempts">Attempts remaining: 3</div>
</form>
</div>
</div>

<!-- Admin Dashboard -->
<div class="admin-dashboard" id="adminDashboard">
<div class="admin-header">
<h3>Admin Panel</h3>
<button class="close-admin" onclick="toggleAdminDashboard()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="admin-content">
<!-- Security Info -->
<div class="security-info">
<p><strong>Security Notice:</strong> This admin panel is protected. Only authorized users can make changes to this website.</p>
</div>

<!-- Firebase Status -->
<div id="firebaseStatus" class="firebase-status disconnected">
Firebase Status: Not Connected
</div>

<!-- Info Box -->
<div class="info-box">
<p><strong>Important:</strong> <span id="storageInfo">Images are stored in your browser's local storage. They will only be visible to you on this device and browser.</span></p>
</div>

<!-- Logo Management -->
<div class="admin-section">
<h4>Logo Management</h4>
<div class="upload-area" id="logoUploadArea" onclick="document.getElementById('logoInput').click()">
<i class="fas fa-upload upload-icon"></i>
<p class="upload-text">Upload Logo</p>
<p class="upload-hint">PNG, JPG up to 5MB</p>
<input type="file" id="logoInput" class="file-input" accept="image/*">
<div class="upload-progress" id="logoProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentLogo" src="" alt="Current Logo" style="display:none;">
<div class="placeholder-image" id="logoPlaceholder">
<span>No logo uploaded</span>
</div>
<div class="image-info" id="logoInfo" style="display:none;"></div>
</div>
</div>
</div>

<!-- Background Management -->
<div class="admin-section">
<h4>Background Management</h4>
<div class="upload-area" id="backgroundUploadArea" onclick="document.getElementById('backgroundInput').click()">
<i class="fas fa-image upload-icon"></i>
<p class="upload-text">Upload Background</p>
<p class="upload-hint">PNG, JPG up to 5MB</p>
<input type="file" id="backgroundInput" class="file-input" accept="image/*">
<div class="upload-progress" id="backgroundProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentBackground" src="" alt="Current Background" style="display:none;">
<div class="placeholder-image" id="backgroundPlaceholder">
<span>No background uploaded</span>
</div>
<div class="image-info" id="backgroundInfo" style="display:none;"></div>
</div>
</div>
</div>

<!-- Splash Logo Management -->
<div class="admin-section">
<h4>Splash Logo Management</h4>
<div class="upload-area" id="splashLogoUploadArea" onclick="document.getElementById('splashLogoInput').click()">
<i class="fas fa-star upload-icon"></i>
<p class="upload-text">Upload Splash Logo</p>
<p class="upload-hint">PNG, JPG up to 5MB</p>
<input type="file" id="splashLogoInput" class="file-input" accept="image/*">
<div class="upload-progress" id="splashLogoProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentSplashLogo" src="" alt="Current Splash Logo" style="display:none;">
<div class="placeholder-image" id="splashLogoPlaceholder">
<span>No splash logo uploaded</span>
</div>
<div class="image-info" id="splashLogoInfo" style="display:none;"></div>
</div>
</div>
</div>

<!-- Content Management -->
<div class="admin-section">
<h4>Content Management</h4>
<div class="text-editor">
<div class="form-group">
<label for="heroDescription">Hero Description</label>
<textarea id="heroDescription" placeholder="Edit hero description text"></textarea>
</div>
<div class="text-editor-buttons">
<button class="btn-small btn-save" onclick="saveTextContent('heroDescription')">Save</button>
</div>
</div>
</div>

<!-- Event Management -->
<div class="admin-section">
<h4>Event Management</h4>
<button class="btn-small btn-add" onclick="showEventForm()">
<i class="fas fa-plus"></i> Add New Event
</button>
<div id="eventForm" class="event-form" style="display:none;">
<div class="event-form-group">
<label for="eventYear">Year</label>
<input type="number" id="eventYear" min="2024" max="2030" value="2024">
</div>
<div class="event-form-group">
<label for="eventDate">Date</label>
<input type="text" id="eventDate" placeholder="e.g., February 8-12, 2024">
</div>
<div class="event-form-group">
<label for="eventTitle">Title</label>
<input type="text" id="eventTitle" placeholder="Event title">
</div>
<div class="event-form-group">
<label for="eventLocation">Location</label>
<input type="text" id="eventLocation" placeholder="Event location">
</div>
<div class="event-form-group">
<label for="eventDescription">Description</label>
<textarea id="eventDescription" placeholder="Event description"></textarea>
</div>
<div class="event-form-group">
<label for="eventDetail">Detailed Information</label>
<textarea id="eventDetail" placeholder="Detailed information for Learn More modal"></textarea>
</div>
<div class="event-form-buttons">
<button class="btn-small btn-save" onclick="saveEvent()">Save Event</button>
<button class="btn-small btn-cancel" onclick="hideEventForm()">Cancel</button>
</div>
</div>
<div id="eventList" class="event-list">
<!-- Events will be listed here -->
</div>
</div>

<!-- Project Images -->
<div class="admin-section">
<h4>Beethoven Project Images</h4>
<div class="upload-area" id="beethovenUploadArea" onclick="document.getElementById('beethovenInput').click()">
<i class="fas fa-music upload-icon"></i>
<p class="upload-text">Upload Beethoven Project Image</p>
<p class="upload-hint">PNG, JPG up to 5MB</p>
<input type="file" id="beethovenInput" class="file-input" accept="image/*">
<div class="upload-progress" id="beethovenProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentBeethoven" src="" alt="Beethoven Project" style="display:none;">
<div class="placeholder-image" id="beethovenPlaceholder">
<span>No Beethoven image uploaded</span>
</div>
<div class="image-info" id="beethovenInfo" style="display:none;"></div>
</div>
</div>

<div class="upload-area" id="beethovenDetailUploadArea" onclick="document.getElementById('beethovenDetailInput').click()">
<i class="fas fa-music upload-icon"></i>
<p class="upload-text">Upload Beethoven Detail Image</p>
<p class="upload-hint">PNG, JPG up to 5MB</p>
<input type="file" id="beethovenDetailInput" class="file-input" accept="image/*">
<div class="upload-progress" id="beethovenDetailProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentBeethovenDetail" src="" alt="Beethoven Detail" style="display:none;">
<div class="placeholder-image" id="beethovenDetailPlaceholder">
<span>No Beethoven detail image uploaded</span>
</div>
<div class="image-info" id="beethovenDetailInfo" style="display:none;"></div>
</div>
</div>
</div>

<!-- Artist Images -->
<div class="admin-section">
<h4>Artist Images</h4>

<!-- Jap-Yeo Duo -->
<div style="margin-bottom: 1rem;">
<h5 style="margin-bottom: 0.5rem; color: var(--text-dark);">Jap-Yeo Duo</h5>
<div class="upload-area" id="japYeoUploadArea" onclick="document.getElementById('japYeoInput').click()">
<i class="fas fa-users upload-icon"></i>
<p class="upload-text">Upload Jap-Yeo Duo Image</p>
<input type="file" id="japYeoInput" class="file-input" accept="image/*">
<div class="upload-progress" id="japYeoProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentJapYeo" src="" alt="Jap-Yeo Duo" style="display:none;">
<div class="placeholder-image" id="japYeoPlaceholder">
<span>No Jap-Yeo Duo image uploaded</span>
</div>
<div class="image-info" id="japYeoInfo" style="display:none;"></div>
</div>
</div>
</div>

<!-- Dr. Kuei Pin Yeo -->
<div style="margin-bottom: 1rem;">
<h5 style="margin-bottom: 0.5rem; color: var(--text-dark);">Dr. Kuei Pin Yeo</h5>
<div class="upload-area" id="kueiPinUploadArea" onclick="document.getElementById('kueiPinInput').click()">
<i class="fas fa-user upload-icon"></i>
<p class="upload-text">Upload Dr. Kuei Pin Yeo Image</p>
<input type="file" id="kueiPinInput" class="file-input" accept="image/*">
<div class="upload-progress" id="kueiPinProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentKueiPin" src="" alt="Dr. Kuei Pin Yeo" style="display:none;">
<div class="placeholder-image" id="kueiPinPlaceholder">
<span>No Dr. Kuei Pin Yeo image uploaded</span>
</div>
<div class="image-info" id="kueiPinInfo" style="display:none;"></div>
</div>
</div>
</div>

<!-- Jap Tji Kien -->
<div style="margin-bottom: 1rem;">
<h5 style="margin-bottom: 0.5rem; color: var(--text-dark);">Jap Tji Kien</h5>
<div class="upload-area" id="japTjiUploadArea" onclick="document.getElementById('japTjiInput').click()">
<i class="fas fa-user upload-icon"></i>
<p class="upload-text">Upload Jap Tji Kien Image</p>
<input type="file" id="japTjiInput" class="file-input" accept="image/*">
<div class="upload-progress" id="japTjiProgress" style="width: 0%; display: none;"></div>
</div>
<div class="image-manager">
<div class="current-image">
<img id="currentJapTji" src="" alt="Jap Tji Kien" style="display:none;">
<div class="placeholder-image" id="japTjiPlaceholder">
<span>No Jap Tji Kien image uploaded</span>
</div>
<div class="image-info" id="japTjiInfo" style="display:none;"></div>
</div>
</div>
</div>
</div>

<!-- Gallery Management -->
<div class="admin-section">
<h4>Gallery Management</h4>
<div class="upload-area" id="galleryUploadArea" onclick="document.getElementById('galleryInput').click()">
<i class="fas fa-images upload-icon"></i>
<p class="upload-text">Upload Gallery Images</p>
<p class="upload-hint">Select multiple images (PNG, JPG up to 5MB each)</p>
<input type="file" id="galleryInput" class="file-input" accept="image/*" multiple>
<div class="upload-progress" id="galleryProgress" style="width: 0%; display: none;"></div>
</div>

<div class="gallery-info" style="margin-top: 1rem; padding: 1rem; background: var(--bg-light); border-radius: 8px;">
<p style="color: var(--text-dark);"><strong>Total Images:</strong> <span id="totalGalleryCount">0</span></p>
<p style="color: var(--text-light); font-size: 0.9rem;">Only first 10 images will be displayed on the main page</p>
</div>

<div id="galleryManager" class="image-manager">
<!-- Gallery images will be displayed here -->
</div>
</div>
</div>
</div>

<!-- Admin Toggle Button -->
<button class="admin-toggle" id="adminToggle" onclick="handleAdminClick()">
<i class="fas fa-cog"></i>
</button>

<!-- Splash Screen -->
<div class="splash-screen" id="splashScreen">
<div class="splash-content">
<img class="splash-logo" id="splashLogoImg" src="" alt="YMJ Logo" style="display:none;">
<div class="splash-text">YMJ STAGE</div>
<div class="splash-subtext">Yayasan Musik Jakarta</div>
</div>
<div class="splash-hint">Click anywhere to continue</div>
</div>

<!-- Main Content -->
<div class="main-content" id="mainContent">
<!-- Header -->
<header>
<nav class="container">
<div class="logo-container">
<img class="logo-img" id="headerLogo" src="" alt="YMJ Logo" style="display:none;">
<a href="#" class="logo-text">YMJ STAGE</a>
</div>
<ul class="nav-menu">
<li><a href="#home" data-lang="nav-home">Home</a></li>
<li><a href="#about" data-lang="nav-about">About</a></li>
<li><a href="#events" data-lang="nav-events">Events</a></li>
<li><a href="#artists" data-lang="nav-artists">Artists</a></li>
<li><a href="#beethoven" data-lang="nav-beethoven">Beethoven 2027</a></li>
<li><a href="#gallery" data-lang="gallery">Gallery</a></li>
<li><a href="#community" data-lang="nav-community">Community</a></li>
<li><a href="#contact" data-lang="nav-contact">Contact</a></li>
</ul>
<div class="language-selector">
<button class="lang-btn active" data-lang="en"></button>
<button class="lang-btn" data-lang="id"></button>
<button class="lang-btn" data-lang="zh"></button>
</div>
<button class="mobile-menu-toggle">
<i class="fas fa-bars"></i>
</button>
</nav>
</header>

<!-- Hero Section -->
<section id="home" class="hero">
<div class="hero-bg" id="heroBg"></div>
<div class="container">
<div class="hero-content">
<!-- English Content -->
<div class="content-en active">
<h1>YMJ STAGE</h1>
<p class="hero-subtitle">Curating Artist-Led Classical Music Projects Worldwide</p>
<p class="hero-description" id="heroDescriptionEn">
Welcome to YMJ STAGE  an artist-driven platform where musicians are supported, guided, and connected from Indonesia to the world. We do not simply manage careers. We accompany artistic journeys, develop meaningful projects, and build bridges between creative vision and global stages.
</p>
<div class="hero-buttons">
<a href="#events" class="btn btn-primary">Explore Our Events</a>
<a href="#community" class="btn btn-secondary">Join Our Community</a>
</div>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<h1>YMJ STAGE</h1>
<p class="hero-subtitle">Mengkurasi Proyek Musik Klasik Berbasis Seniman di Panggung Internasional</p>
<p class="hero-description" id="heroDescriptionId">
Selamat datang di YMJ STAGE  sebuah platform yang digerakkan oleh seniman untuk mendukung musisi, mengembangkan proyek bermakna, dan menghubungkan visi artistik dengan panggung dunia.
</p>
<div class="hero-buttons">
<a href="#events" class="btn btn-primary">Jelajahi Acara Kami</a>
<a href="#community" class="btn btn-secondary">Bergabung dengan Komunitas</a>
</div>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<h1>YMJ STAGE</h1>
<p class="hero-subtitle"></p>
<p class="hero-description" id="heroDescriptionZh">
 YMJ STAGE  
</p>
<div class="hero-buttons">
<a href="#events" class="btn btn-primary"></a>
<a href="#community" class="btn btn-secondary"></a>
</div>
</div>
</div>
</div>
</section>

<!-- Mission Section -->
<section id="about" class="mission">
<div class="container">
<h2 class="section-title" data-lang="mission-title">Our Mission</h2>

<!-- English Content -->
<div class="content-en active">
<div class="mission-content">
<p>As part of Yayasan Musik Jakarta, YMJ STAGE is dedicated to cultivating artistic excellence and championing Indonesian artists internationally, while welcoming global collaboration into Indonesia.</p>
<p class="mission-highlight">Together, we advance artistry.<br>Together, we elevate Indonesia.</p>
<p>We believe music is a calling, not a commodity. Sustainable artistic careers are built through meaningful relationships  between artists, presenters, institutions, and audiences.</p>
</div>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<div class="mission-content">
<p>Sebagai bagian dari Yayasan Musik Jakarta, YMJ STAGE berdedikasi untuk menumbuhkan keunggulan artistik dan memajukan seniman Indonesia di panggung internasional, sambil menyambut kolaborasi global ke Indonesia.</p>
<p class="mission-highlight">Bersama, kita memajukan seni.<br>Bersama, kita mengangkat Indonesia.</p>
<p>Kami percaya bahwa musik adalah panggilan, bukan komoditas. Karier artistik yang berkelanjutan tumbuh melalui kepercayaan kepercayaan dan relasi yang bermakna.</p>
</div>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<div class="mission-content">
<p>Yayasan Musik JakartaYMJ STAGE </p>
<p class="mission-highlight"><br></p>
<p></p>
</div>
</div>
</div>
</section>

<!-- Events Section -->
<section id="events" class="events">
<div class="container">
<h2 class="section-title" data-lang="events-title">Our Events</h2>

<div class="events-timeline" id="eventsTimeline">
<!-- Events will be dynamically loaded here -->
</div>
</div>
</section>

<!-- Featured Project -->
<section id="projects" class="featured-project">
<div class="container">
<h2 class="section-title" data-lang="project-title">Featured Project</h2>

<div class="project-card">
<div class="project-image">
<img id="beethovenProjectImg" src="" alt="Beethoven Project" style="display:none;">
<div class="placeholder-image" id="beethovenProjectPlaceholder" style="height:300px;">
<span>No Beethoven project image uploaded</span>
</div>
</div>
<div class="project-content">
<!-- English Content -->
<div class="content-en active">
<h3 class="project-title">Beethoven Bicentennial Memorial Concert Series (20272028)</h3>
<p class="project-description">
A global performance cycle commemorating the 200th anniversary of the death of Ludwig van Beethoven, presenting the complete violin and piano repertoire through carefully curated concert programs.
</p>
<a href="#beethoven" class="btn btn-primary">View Project Details</a>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<h3 class="project-title">Seri Konser Peringatan Dua Abad Wafatnya Beethoven (20272028)</h3>
<p class="project-description">
Siklus pertunjukan global memperingati 200 tahun wafatnya Ludwig van Beethoven, menyajikan repertoar lengkap biola dan piano melalui program konser yang dikurasi dengan cermat.
</p>
<a href="#beethoven" class="btn btn-primary">Lihat Detail Proyek</a>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<h3 class="project-title">20272028</h3>
<p class="project-description">

</p>
<a href="#beethoven" class="btn btn-primary"></a>
</div>
</div>
</div>
</div>
</section>

<!-- Gallery Section -->
<section id="gallery" class="featured-project">
<div class="container">
<h2 class="section-title" data-lang="gallery-title">Gallery</h2>

<div class="gallery-container">
<div class="gallery-grid" id="galleryGrid">
<!-- Gallery items will be dynamically added here -->
</div>

<div class="gallery-info">
<div class="gallery-count">
Showing <span id="visibleCount">0</span> of <span id="totalCount">0</span> photos
</div>
<a href="#" class="gallery-view-all" onclick="openFullGallery(); return false;">
View All Gallery <i class="fas fa-arrow-right"></i>
</a>
</div>
</div>
</div>
</section>

<!-- Artists Section -->
<section id="artists" class="artists">
<div class="container">
<h2 class="section-title" data-lang="artists-title">Our Artists</h2>

<div class="artists-grid">
<!-- Jap-Yeo Duo -->
<div class="artist-card fade-in">
<div class="artist-image">
<img id="japYeoImg" src="" alt="Jap-Yeo Duo" style="display:none;">
<div class="placeholder-image" id="japYeoPlaceholder">
<span>No Jap-Yeo Duo image uploaded</span>
</div>
</div>
<div class="artist-info">
<!-- English Content -->
<div class="content-en active">
<h3 class="artist-name">JapYeo Duo</h3>
<p class="artist-role">Violin & Piano Duo</p>
<p class="artist-bio">
Bringing together violinist Jap Tji Kien and pianist Dr. Kuei Pin Yeo in a partnership dedicated to chamber music of depth, clarity, and intellectual engagement.
</p>
<div class="artist-links">
<a href="#" data-lang="bio">Biography</a>
<a href="#" data-lang="repertoire">Repertoire</a>
<a href="#" data-lang="media">Media</a>
</div>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<h3 class="artist-name">JapYeo Duo</h3>
<p class="artist-role">Biola & Piano</p>
<p class="artist-bio">
Mempertemukan pemain biola Jap Tji Kien dan pianis Dr. Kuei Pin Yeo dalam kemitraan yang berfokus pada musik kamar dengan kedalaman dan kejernihan artistik.
</p>
<div class="artist-links">
<a href="#" data-lang="bio">Biografi</a>
<a href="#" data-lang="repertoire">Repertoar</a>
<a href="#" data-lang="media">Media</a>
</div>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<h3 class="artist-name">JapYeo </h3>
<p class="artist-role"></p>
<p class="artist-bio">

</p>
<div class="artist-links">
<a href="#" data-lang="bio"></a>
<a href="#" data-lang="repertoire"></a>
<a href="#" data-lang="media"></a>
</div>
</div>
</div>
</div>

<!-- Dr. Kuei Pin Yeo -->
<div class="artist-card fade-in">
<div class="artist-image">
<img id="kueiPinImg" src="" alt="Dr. Kuei Pin Yeo" style="display:none;">
<div class="placeholder-image" id="kueiPinPlaceholder">
<span>No Dr. Kuei Pin Yeo image uploaded</span>
</div>
</div>
<div class="artist-info">
<!-- English Content -->
<div class="content-en active">
<h3 class="artist-name">Dr. Kuei Pin Yeo</h3>
<p class="artist-role">Pianist</p>
<p class="artist-bio">
Pianis Indonesia terkemuka dan doktor musik pertama Indonesia dalam bidang piano performance. Debut resitalnya di Carnegie Recital Hall, New York, menandai awal pengakuan internasionalnya.
</p>
<div class="artist-links">
<a href="#" data-lang="bio">Biography</a>
<a href="#" data-lang="repertoire">Repertoire</a>
<a href="#" data-lang="media">Media</a>
</div>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<h3 class="artist-name">Dr. Kuei Pin Yeo</h3>
<p class="artist-role">Pianis</p>
<p class="artist-bio">
Pianis Indonesia terkemuka dan doktor musik pertama Indonesia dalam bidang piano performance. Debut resitalnya di Carnegie Recital Hall, New York, menandai awal pengakuan internasionalnya.
</p>
<div class="artist-links">
<a href="#" data-lang="bio">Biografi</a>
<a href="#" data-lang="repertoire">Repertoar</a>
<a href="#" data-lang="media">Media</a>
</div>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<h3 class="artist-name"></h3>
<p class="artist-role"></p>
<p class="artist-bio">
1978
</p>
<div class="artist-links">
<a href="#" data-lang="bio"></a>
<a href="#" data-lang="repertoire"></a>
<a href="#" data-lang="media"></a>
</div>
</div>
</div>
</div>

<!-- Jap Tji Kien -->
<div class="artist-card fade-in">
<div class="artist-image">
<img id="japTjiImg" src="" alt="Jap Tji Kien" style="display:none;">
<div class="placeholder-image" id="japTjiPlaceholder">
<span>No Jap Tji Kien image uploaded</span>
</div>
</div>
<div class="artist-info">
<!-- English Content -->
<div class="content-en active">
<h3 class="artist-name">Jap Tji Kien</h3>
<p class="artist-role">Violinist & Conductor</p>
<p class="artist-bio">
One of Indonesia's most respected violinists and conductors, recognized as the first recipient of the Fellowship of the Royal Schools of Music (FRSM), London, in Southeast Asia.
</p>
<div class="artist-links">
<a href="#" data-lang="bio">Biography</a>
<a href="#" data-lang="repertoire">Repertoire</a>
<a href="#" data-lang="media">Media</a>
</div>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<h3 class="artist-name">Jap Tji Kien</h3>
<p class="artist-role">Violinis & Conductor</p>
<p class="artist-bio">
Salah satu violinis dan dirigen paling dihormati di Indonesia, lahir di Bandung, dan dikenal sebagai penerima Fellowship of the Royal Schools of Music (FRSM), London, pertama di Asia Tenggara.
</p>
<div class="artist-links">
<a href="#" data-lang="bio">Biografi</a>
<a href="#" data-lang="repertoire">Repertoar</a>
<a href="#" data-lang="media">Media</a>
</div>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<h3 class="artist-name"></h3>
<p class="artist-role"></p>
<p class="artist-bio">
FRSM, London
</p>
<div class="artist-links">
<a href="#" data-lang="bio"></a>
<a href="#" data-lang="repertoire"></a>
<a href="#" data-lang="media"></a>
</div>
</div>
</div>
</div>
</section>

<!-- Beethoven Project Section -->
<section id="beethoven" class="featured-project">
<div class="container">
<h2 class="section-title" data-lang="beethoven-title">Beethoven Bicentennial Initiative</h2>

<div class="project-card">
<div class="project-image">
<img id="beethovenDetailImg" src="" alt="Beethoven Project Detail" style="display:none;">
<div class="placeholder-image" id="beethovenDetailPlaceholder" style="height:300px;">
<span>No Beethoven detail image uploaded</span>
</div>
</div>
<div class="project-content">
<!-- English Content -->
<div class="content-en active">
<h3 class="project-title">Beethoven Bicentennial World Project (20272028)</h3>
<p class="project-description">
In commemoration of the 200th anniversary of the passing of Ludwig van Beethoven, YMJ STAGE has initiated a long-term artistic project centered on Beethoven's works for violin and piano.
</p>
<div style="margin-top: 1.5rem;">
<h4 style="margin-bottom: 1rem; color: var(--primary);">Project Formats:</h4>
<ul style="list-style: none; padding: 0;">
<li style="margin-bottom: 0.5rem;"> Single Recital</li>
<li style="margin-bottom: 0.5rem;"> Short Series (23 concerts)</li>
<li style="margin-bottom: 0.5rem;"> Complete Cycle</li>
<li> Expanded Format (Lecture, Masterclass, Residency)</li>
</ul>
</div>
<a href="#contact" class="btn btn-primary" style="margin-top: 1.5rem;">Inquire About This Project</a>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<h3 class="project-title">Proyek Dunia Beethoven Bicentennial (20272028)</h3>
<p class="project-description">
Dalam rangka memperingati 200 tahun wafatnya Ludwig van Beethoven, YMJ STAGE menginisiasi sebuah proyek artistik jangka panjang.
</p>
<div style="margin-top: 1.5rem;">
<h4 style="margin-bottom: 1rem; color: var(--primary);">Format Proyek:</h4>
<ul style="list-style: none; padding: 0;">
<li style="margin-bottom: 0.5rem;"> Resital Tunggal</li>
<li style="margin-bottom: 0.5rem;"> Seri Pendek (23 konser)</li>
<li style="margin-bottom: 0.5rem;"> Siklus Lengkap</li>
<li> Format Diperluas (Kuliah, Masterclass, Residensi)</li>
</ul>
</div>
<a href="#contact" class="btn btn-primary" style="margin-top: 1.5rem;">Tanyakan Tentang Proyek Ini</a>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<h3 class="project-title">20272028</h3>
<p class="project-description">

</p>
<div style="margin-top: 1.5rem;">
<h4 style="margin-bottom: 1rem; color: var(--primary);"></h4>
<ul style="list-style: none; padding: 0;">
<li style="margin-bottom: 0.5rem;"> </li>
<li style="margin-bottom: 0.5rem;"> 23 </li>
<li style="margin-bottom: 0.5rem;"> </li>
<li> </li>
</ul>
</div>
<a href="#contact" class="btn btn-primary" style="margin-top: 1.5rem;"></a>
</div>
</div>
</div>
</div>
</section>

<!-- Newsletter Section -->
<section id="newsletter" class="newsletter">
<div class="container">
<h2 class="section-title" data-lang="newsletter-title">Stay Connected</h2>
<div class="newsletter-content">
<!-- English Content -->
<div class="content-en active">
<p>Subscribe to our newsletter for updates on concerts, artist news, and exclusive events.</p>
<form name="newsletter" method="POST" data-netlify="true" class="newsletter-form">
<input type="email" name="email" placeholder="Enter your email address" required>
<button type="submit" class="btn btn-primary">Subscribe</button>
</form>
</div>
<!-- Indonesian Content -->
<div class="content-id">
<p>Berlangganan newsletter kami untuk update konser, berita seniman, dan acara eksklusif.</p>
<form name="newsletter" method="POST" data-netlify="true" class="newsletter-form">
<input type="email" name="email" placeholder="Masukkan alamat email Anda" required>
<button type="submit" class="btn btn-primary">Berlangganan</button>
</form>
</div>
<!-- Chinese Content -->
<div class="content-zh">
<p></p>
<form name="newsletter" method="POST" data-netlify="true" class="newsletter-form">
<input type="email" name="email" placeholder="" required>
<button type="submit" class="btn btn-primary"></button>
</form>
</div>
</div>
</div>
</section>

<!-- Survey Section -->
<section id="survey" class="survey">
<div class="container">
<h2 class="section-title" data-lang="survey-title">Audience Survey</h2>
<div class="survey-form">
<!-- English Content -->
<div class="content-en active">
<h3 style="text-align: center; margin-bottom: 2rem;">Help us improve your experience</h3>
<form name="audience-survey" method="POST" data-netlify="true">
<div class="survey-question">
<h4>How did you hear about us?</h4>
<div class="radio-group">
<label><input type="radio" name="source" value="social-media" required> Social Media</label>
<label><input type="radio" name="source" value="friend"> Friend/Colleague</label>
<label><input type="radio" name="source" value="concert"> Concert/Event</label>
<label><input type="radio" name="source" value="website"> Website</label>
<label><input type="radio" name="source" value="other"> Other</label>
</div>
</div>

<div class="survey-question">
<h4>What type of events interest you most?</h4>
<div class="checkbox-group">
<label><input type="checkbox" name="interests" value="classical-concerts"> Classical Concerts</label>
<label><input type="checkbox" name="interests" value="masterclasses"> Masterclasses</label>
<label><input type="checkbox" name="interests" value="workshops"> Workshops</label>
<label><input type="checkbox" name="interests" value="lectures"> Lectures</label>
<label><input type="checkbox" name="interests" value="community-events"> Community Events</label>
</div>
</div>

<div class="survey-question">
<h4>How often would you like to hear from us?</h4>
<div class="radio-group">
<label><input type="radio" name="frequency" value="weekly" required> Weekly</label>
<label><input type="radio" name="frequency" value="monthly"> Monthly</label>
<label><input type="radio" name="frequency" value="quarterly"> Quarterly</label>
<label><input type="radio" name="frequency" value="rarely"> Only for major events</label>
</div>
</div>

<div class="form-group">
<label for="survey-email">Email Address (Optional)</label>
<input type="email" id="survey-email" name="email" placeholder="your@email.com">
</div>

<div class="form-group">
<label for="feedback">Additional Feedback</label>
<textarea id="feedback" name="feedback" rows="4" placeholder="Share your thoughts with us..."></textarea>
</div>
<button type="submit" class="btn btn-primary" style="width: 100%;">Submit Survey</button>
</form>
</div>
<!-- Indonesian Content -->
<div class="content-id">
<h3 style="text-align: center; margin-bottom: 2rem;">Bantu kami meningkatkan pengalaman Anda</h3>
<form name="audience-survey" method="POST" data-netlify="true">
<div class="survey-question">
<h4>Bagaimana Anda mengetahui kami?</h4>
<div class="radio-group">
<label><input type="radio" name="source" value="social-media" required> Media Sosial</label>
<label><input type="radio" name="source" value="friend"> Teman/Kolega</label>
<label><input type="radio" name="source" value="concert"> Konser/Acara</label>
<label><input type="radio" name="source" value="website"> Website</label>
<label><input type="radio" name="source" value="other"> Lainnya</label>
</div>
</div>

<div class="survey-question">
<h4>Acara apa yang paling menarik Anda?</h4>
<div class="checkbox-group">
<label><input type="checkbox" name="interests" value="classical-concerts"> Konser Klasik</label>
<label><input type="checkbox" name="interests" value="masterclasses"> Masterclasses</label>
<label><input type="checkbox" name="interests" value="workshops"> Workshops</label>
<label><input type="checkbox" name="interests" value="lectures"> Lectures</label>
<label><input type="checkbox" name="interests" value="community-events"> Community Events</label>
</div>
</div>

<div class="survey-question">
<h4>Seberapa sering Anda ingin mendengar dari kami?</h4>
<div class="radio-group">
<label><input type="radio" name="frequency" value="weekly" required> Mingguan</label>
<label><input type="radio" name="frequency" value="monthly"> Bulanan</label>
<label><input type="radio" name="frequency" value="quarterly"> Kuartalan</label>
<label><input type="radio" name="frequency" value="rarely"> Hanya untuk acara besar</label>
</div>
</div>

<div class="form-group">
<label for="survey-email-id">Alamat Email (Opsional)</label>
<input type="email" id="survey-email-id" name="email" placeholder="email@anda.com">
</div>

<div class="form-group">
<label for="feedback-id">Umpan Balik Tambahan</label>
<textarea id="feedback-id" name="feedback" rows="4" placeholder="Bagikan pemikiran Anda dengan kami..."></textarea>
</div>

<button type="submit" class="btn btn-primary" style="width: 100%;">Submit Survey</button>
</form>
</div>
<!-- Chinese Content -->
<div class="content-zh">
<h3 style="text-align: center; margin-bottom: 2rem;"></h3>
<form name="audience-survey" method="POST" data-netlify="true">
<div class="survey-question">
<h4></h4>
<div class="radio-group">
<label><input type="radio" name="source" value="social-media" required> </label>
<label><input type="radio" name="source" value="friend"> /</label>
<label><input type="radio" name="source" value="concert"> /</label>
<label><input type="radio" name="source" value="website"> </label>
<label><input type="radio" name="source" value="other"> </label>
</div>
</div>

<div class="survey-question">
<h4></h4>
<div class="checkbox-group">
<label><input type="checkbox" name="interests" value="classical-concerts"> </label>
<label><input type="checkbox" name="interests" value="masterclasses"> Masterclasses</label>
<label><input type="checkbox" name="interests" value="workshops"> Workshops</label>
<label><input type="checkbox" name="interests" value="lectures"> </label>
<label><input type="checkbox" name="interests" value="community-events"> </label>
</div>
</div>

<div class="survey-question">
<h4></h4>
<div class="radio-group">
<label><input type="radio" name="frequency" value="weekly" required> </label>
<label><input type="radio" name="frequency" value="monthly"> </label>
<label><input type="radio" name="frequency" value="quarterly"> </label>
<label><input type="radio" name="frequency" value="rarely"> </label>
</div>
</div>

<div class="form-group">
<label for="survey-email-zh"></label>
<input type="email" id="survey-email-zh" name="email" placeholder="your@email.com">
</div>

<div class="form-group">
<label for="feedback-zh"></label>
<textarea id="feedback-zh" name="feedback" rows="4" placeholder="..."></textarea>
</div>

<button type="submit" class="btn btn-primary" style="width: 100%;"></button>
</form>
</div>
</div>
</div>
</section>

<!-- Contact Section -->
<section id="contact" class="contact">
<div class="container">
<h2 class="section-title" data-lang="contact-title">Contact Us</h2>

<div class="contact-content">
<div class="contact-info">
<!-- English Content -->
<div class="content-en active">
<div class="contact-item">
<i class="fas fa-envelope"></i>
<div>
<h4>Email</h4>
<p>info@yayasanmusikjakarta.org</p>
</div>
</div>
<div class="contact-item">
<i class="fas fa-globe"></i>
<div>
<h4>Website</h4>
<p>www.yayasanmusikjakarta.org/ymj-stage</p>
</div>
</div>
</div>

<!-- Indonesian Content -->
<div class="content-id">
<div class="contact-item">
<i class="fas fa-envelope"></i>
<div>
<h4>Email</h4>
<p>info@yayasanmusikjakarta.org</p>
</div>
</div>
</div>

<!-- Chinese Content -->
<div class="content-zh">
<div class="contact-item">
<i class="fas fa-envelope"></i>
<div>
<h4></h4>
<p>info@yayasanmusikjakarta.org</p>
</div>
</div>
</div>
</div>
</div>
</section>

<!-- Footer -->
<footer>
<div class="container">
<div class="social-links">
<a href="#"><i class="fab fa-facebook-f"></i></a>
<a href="#"><i class="fab fa-twitter"></i></a>
<a href="#"><i class="fab fa-instagram"></i></a>
<a href="#"><i class="fab fa-youtube"></i></a>
<a href="#"><i class="fab fa-linkedin-in"></i></a>
</div>
<!-- English Content -->
<div class="content-en active">
<p>&copy; 2025 YMJ STAGE. All rights reserved.</p>
<p>A division of Yayasan Musik Jakarta</p>
</div>
<!-- Indonesian Content -->
<div class="content-id">
<p>&copy; 2025 YMJ STAGE. Semua hak dilindungi.</p>
<p>Di bawah Yayasan Musik Jakarta</p>
</div>
<!-- Chinese Content -->
<div class="content-zh">
<p>&copy; 2025 YMJ STAGE</p>
<p></p>
</div>
</div>
</footer>
</div>

<!-- Image Modal -->
<div id="imageModal" class="image-modal">
<span class="image-modal-close" onclick="closeImageModal()">&times;</span>
<img class="image-modal-content" id="modalImage">
</div>

<!-- Event Detail Modal -->
<div id="eventDetailModal" class="event-detail-modal">
<div class="event-detail-content">
<div class="event-detail-header">
<h3 class="event-detail-title" id="eventDetailTitle">Event Title</h3>
<button class="event-detail-close" onclick="closeEventDetailModal()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="event-detail-body">
<img id="eventDetailImage" class="event-detail-image" src="" alt="Event Image" style="display:none;">
<div id="eventDetailContent">
<!-- Event detail content will be inserted here -->
</div>
</div>
</div>
</div>

<!-- Full Gallery Modal -->
<div id="full-gallery-modal" class="full-gallery-modal">
<div class="full-gallery-content">
<div class="full-gallery-header">
<h2>Complete Gallery</h2>
<button class="close-full-gallery" onclick="closeFullGallery()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="full-gallery-grid" id="full-gallery-grid">
<!-- Gallery images will be displayed here -->
</div>
</div>
</div>

<script>
// Admin System - Enhanced Security
const ADMIN_CREDENTIALS = {
  username: 'ymjadmin',
  password: 'Beethoven2027!'
};

let isLoggedIn = false;
let loginAttempts = 0;
const MAX_LOGIN_ATTEMPTS = 3;
let isLocked = false;
let lockTime = 0;

// Image storage keys - using localStorage for now
const IMAGE_KEYS = {
logo: 'ymjLogo',
background: 'ymjBackground',
splashLogo: 'ymjSplashLogo',
beethoven: 'ymjBeethoven',
beethovenDetail: 'ymjBeethovenDetail',
japYeo: 'ymjJapYeo',
kueiPin: 'ymjKueiPin',
japTji: 'ymjJapTji',
gallery: 'ymjGallery'
};

// Content storage keys
const CONTENT_KEYS = {
heroDescriptionEn: 'ymjHeroDescriptionEn',
heroDescriptionId: 'ymjHeroDescriptionId',
heroDescriptionZh: 'ymjHeroDescriptionZh'
};

// Events storage key
const EVENTS_KEY = 'ymjEvents';

// Default events data
const DEFAULT_EVENTS = {
2024: [
{
id: 'evt202401',
date: 'February 8-12, 2024',
title: 'Beyond the Notes',
location: 'Jakarta, Indonesia',
description: 'YMJ\'s 40th anniversary celebration at JIExpo featuring innovative performances.',
detail: 'Beyond the Notes was a special event celebrating the 40th anniversary of Yayasan Musik Jakarta. Held at the prestigious JIExpo, this event featured innovative performances that pushed the boundaries of classical music, combining traditional elements with contemporary interpretations.'
},
{
id: 'evt202402',
date: 'May 20-25, 2024',
title: 'Indonesia Open Competition (IOC)',
location: 'Hong Kong',
description: 'Annual competition showcasing Indonesia\'s finest musical talents on the international stage.',
detail: 'The Indonesia Open Competition (IOC) is an annual event that showcases Indonesia\'s finest musical talents on the international stage. This year, the competition was held in Hong Kong, bringing together young musicians from across Indonesia.'
},
{
id: 'evt202403',
date: 'August 3-8, 2024',
title: 'Music Educators Conference',
location: 'Singapore',
description: 'A conference bringing together music educators from across Southeast Asia.',
detail: 'The Music Educators Conference is an annual gathering that brings together music educators from across Southeast Asia to share knowledge, best practices, and innovative teaching methods.'
}
],
2025: [
{
id: 'evt202501',
date: 'January 15-20, 2025',
title: 'New York Audition Franz Liszt Piano Competition',
location: 'New York, USA',
description: 'International piano competition featuring talented young pianists from around the world.',
detail: 'The New York Audition Franz Liszt Piano Competition is a prestigious international event that brings together talented young pianists from around the world to showcase their interpretation of Liszt\'s works.'
},
{
id: 'evt202502',
date: 'March 10-15, 2025',
title: 'Indonesia Open Competition (IOC)',
location: 'Hong Kong',
description: 'Annual competition showcasing Indonesia\'s finest musical talents on the international stage.',
detail: 'The Indonesia Open Competition (IOC) continues its tradition of showcasing Indonesia\'s finest musical talents on the international stage.'
},
{
id: 'evt202503',
date: 'June 5-10, 2025',
title: 'Asian Young Artists Showcase',
location: 'Tokyo, Japan',
description: 'A showcase featuring the most promising young classical musicians from across Asia.',
detail: 'The Asian Young Artists Showcase is an annual event that highlights the most promising young classical musicians from across Asia.'
}
],
2026: [
{
id: 'evt202601',
date: 'September 12-18, 2026',
title: 'Beethoven Bicentennial Memorial Concert Series',
location: 'Multiple Venues',
description: 'A global performance cycle commemorating the 200th anniversary of Beethoven\'s death.',
detail: 'The Beethoven Bicentennial Memorial Concert Series is a global performance cycle commemorating the 200th anniversary of the death of Ludwig van Beethoven.'
},
{
id: 'evt202602',
date: 'TBD',
title: 'International Artist Exchange Program',
location: 'Indonesia & Europe',
description: 'A cultural exchange program connecting Indonesian musicians with international artists.',
detail: 'The International Artist Exchange Program is a cultural initiative designed to connect Indonesian musicians with international artists for collaborative performances and workshops.'
},
{
id: 'evt202603',
date: 'TBD',
title: 'Southeast Asian Classical Music Festival',
location: 'Jakarta, Indonesia',
description: 'A festival showcasing the finest classical musicians from across Southeast Asia.',
detail: 'The Southeast Asian Classical Music Festival will bring together the finest classical musicians from across Southeast Asia for a week of performances, masterclasses, and collaborative events.'
}
]
};

// Check if already logged in
function checkAdminStatus() {
const adminStatus = localStorage.getItem('ymjAdminLoggedIn');
const loginTime = localStorage.getItem('ymjLoginTime');
  
if (adminStatus === 'true' && loginTime) {
  // Check if session is still valid (24 hours)
  const now = Date.now();
  const loginTimestamp = parseInt(loginTime);
  const hoursSinceLogin = (now - loginTimestamp) / (1000 * 60 * 60);
    
  if (hoursSinceLogin < 24) {
    isLoggedIn = true;
    document.getElementById('adminToggle').classList.add('logged-in');
  } else {
    // Session expired, clear login
    localStorage.removeItem('ymjAdminLoggedIn');
    localStorage.removeItem('ymjLoginTime');
  }
}
  
  // Check if locked
  const lockedUntil = localStorage.getItem('ymjLockedUntil');
  if (lockedUntil) {
    const now = Date.now();
    const lockTimestamp = parseInt(lockedUntil);
    if (now < lockTimestamp) {
      isLocked = true;
      lockTime = lockTimestamp;
      updateLoginAttempts();
    } else {
      localStorage.removeItem('ymjLockedUntil');
    }
  }
}

// Handle admin click
function handleAdminClick() {
if (isLoggedIn) {
toggleAdminDashboard();
} else {
if (isLocked) {
  const remainingTime = Math.ceil((lockTime - Date.now()) / (1000 * 60));
  alert(`Account locked. Please try again in ${remainingTime} minutes.`);
  return;
}
showAdminLogin();
}
}

// Show admin login modal
function showAdminLogin() {
document.getElementById('adminLogin').classList.add('active');
updateLoginAttempts();
}

// Close admin login modal
function closeAdminLogin() {
document.getElementById('adminLogin').classList.remove('active');
document.getElementById('loginError').style.display = 'none';
document.getElementById('adminUsername').value = '';
document.getElementById('adminPassword').value = '';
}

// Update login attempts display
function updateLoginAttempts() {
const attemptsElement = document.getElementById('loginAttempts');
if (isLocked) {
  const remainingTime = Math.ceil((lockTime - Date.now()) / (1000 * 60));
  attemptsElement.textContent = `Account locked. Try again in ${remainingTime} minutes`;
  attemptsElement.style.color = 'var(--error)';
} else {
  const remaining = MAX_LOGIN_ATTEMPTS - loginAttempts;
  attemptsElement.textContent = `Attempts remaining: ${remaining}`;
  attemptsElement.style.color = 'var(--text-light)';
}
}

// Toggle admin dashboard
function toggleAdminDashboard() {
const dashboard = document.getElementById('adminDashboard');
dashboard.classList.toggle('active');

if (dashboard.classList.contains('active')) {
loadAllImages();
loadAllContent();
// Make sure events are loaded when dashboard opens
loadEvents();
// Update Firebase status
updateFirebaseStatus();
}
}

// Update Firebase status
function updateFirebaseStatus() {
const statusElement = document.getElementById('firebaseStatus');
const storageInfoElement = document.getElementById('storageInfo');
  
if (firebaseConnected) {
statusElement.textContent = 'Firebase Status: Connected';
statusElement.className = 'firebase-status connected';
storageInfoElement.textContent = 'Images are stored in Firebase Storage and will be visible to all visitors.';
} else {
statusElement.textContent = 'Firebase Status: Not Connected - Using Local Storage';
statusElement.className = 'firebase-status disconnected';
storageInfoElement.textContent = 'Images are stored in your browser\'s local storage. They will only be visible to you on this device and browser.';
}
}

// Admin logout
function adminLogout() {
isLoggedIn = false;
localStorage.setItem('ymjAdminLoggedIn', 'false');
localStorage.removeItem('ymjLoginTime');
document.getElementById('adminDashboard').classList.remove('active');
document.getElementById('adminToggle').classList.remove('logged-in');
showNotification('Logged out successfully');
}

// Save image to localStorage or Firebase
function saveImage(key, imageData) {
if (firebaseConnected && storage) {
// Try to save to Firebase
try {
const fileName = `${key}/${Date.now()}_${imageData.name}`;
const storageRef = storage.ref(fileName);
    
storageRef.putString(imageData.src, 'data_url').then((snapshot) => {
snapshot.ref.getDownloadURL().then((downloadURL) => {
// Save URL to Firestore if available
if (db) {
db.collection('images').doc(key.replace(/\//g, '_')).set({
path: key,
url: downloadURL,
updatedAt: new Date()
});
}
// Update localStorage as backup
localStorage.setItem(key, JSON.stringify({...imageData, src: downloadURL}));
updateImageDisplay(key, {...imageData, src: downloadURL});
});
});
} catch (error) {
console.error('Firebase save error, using localStorage:', error);
localStorage.setItem(key, JSON.stringify(imageData));
updateImageDisplay(key, imageData);
}
} else {
// Use localStorage
localStorage.setItem(key, JSON.stringify(imageData));
updateImageDisplay(key, imageData);
}
}

// Load image from localStorage or Firebase
function loadImage(key) {
if (firebaseConnected && db) {
// Try to load from Firebase
try {
db.collection('images').doc(key.replace(/\//g, '_')).get().then((doc) => {
if (doc.exists) {
return doc.data().url;
} else {
// Fallback to localStorage
return loadFromLocalStorage(key);
}
}).catch((error) => {
console.error('Firebase load error, using localStorage:', error);
return loadFromLocalStorage(key);
});
} catch (error) {
return loadFromLocalStorage(key);
}
} else {
// Use localStorage
return loadFromLocalStorage(key);
}
}

function loadFromLocalStorage(key) {
const data = localStorage.getItem(key);
return data ? JSON.parse(data) : null;
}

// Update image display
function updateImageDisplay(key, imageData) {
switch(key) {
case IMAGE_KEYS.logo:
updateLogoDisplay(imageData);
break;
case IMAGE_KEYS.background:
updateBackgroundDisplay(imageData);
break;
case IMAGE_KEYS.splashLogo:
updateSplashLogoDisplay(imageData);
break;
case IMAGE_KEYS.beethoven:
updateBeethovenDisplay(imageData);
break;
case IMAGE_KEYS.beethovenDetail:
updateBeethovenDetailDisplay(imageData);
break;
case IMAGE_KEYS.japYeo:
updateJapYeoDisplay(imageData);
break;
case IMAGE_KEYS.kueiPin:
updateKueiPinDisplay(imageData);
break;
case IMAGE_KEYS.japTji:
updateJapTjiDisplay(imageData);
break;
case IMAGE_KEYS.gallery:
updateGalleryDisplay(imageData);
break;
default:
console.error('Unknown image key:', key);
}
}

// Save text content to localStorage
function saveTextContent(contentId) {
const content = document.getElementById(contentId).value;
const key = CONTENT_KEYS[contentId];
if (key) {
localStorage.setItem(key, content);
updateTextDisplay(contentId, content);
showNotification('Content saved successfully!');
}
}

// Load text content from localStorage
function loadTextContent(contentId) {
const key = CONTENT_KEYS[contentId];
if (key) {
const content = localStorage.getItem(key);
if (content) {
updateTextDisplay(contentId, content);
return content;
}
}
return document.getElementById(contentId).textContent;
}

// Update text display
function updateTextDisplay(contentId, content) {
const displayElement = document.getElementById(contentId + 'En');
if (displayElement) {
displayElement.textContent = content;
}
}

// Load all text content
function loadAllContent() {
Object.keys(CONTENT_KEYS).forEach(key => {
const content = loadTextContent(key);
const inputElement = document.getElementById(key);
if (inputElement && content) {
inputElement.value = content;
}
});
}

// Event Management Functions
function loadEvents() {
const eventsData = localStorage.getItem(EVENTS_KEY);
let events = eventsData ? JSON.parse(eventsData) : DEFAULT_EVENTS;
displayEvents(events);
updateEventList(events);
}

function saveEvents(events) {
localStorage.setItem(EVENTS_KEY, JSON.stringify(events));
displayEvents(events);
updateEventList(events);
}

function displayEvents(events) {
const eventsTimeline = document.getElementById('eventsTimeline');
eventsTimeline.innerHTML = '';

// Sort years in descending order
const sortedYears = Object.keys(events).sort((a, b) => b - a);

sortedYears.forEach(year => {
const yearGroup = document.createElement('div');
yearGroup.className = 'year-group';

const yearHeader = document.createElement('div');
yearHeader.className = 'year-header';

const yearBadge = document.createElement('div');
yearBadge.className = 'year-badge';
yearBadge.textContent = year;

const yearLine = document.createElement('div');
yearLine.className = 'year-line';

yearHeader.appendChild(yearBadge);
yearHeader.appendChild(yearLine);

const eventsGrid = document.createElement('div');
eventsGrid.className = 'events-grid';

events[year].forEach(event => {
const eventCard = document.createElement('div');
eventCard.className = 'event-card fade-in';

const eventDate = document.createElement('div');
eventDate.className = 'event-date';
eventDate.textContent = event.date;

const eventTitle = document.createElement('h3');
eventTitle.className = 'event-title';
eventTitle.textContent = event.title;

const eventLocation = document.createElement('div');
eventLocation.className = 'event-location';
eventLocation.innerHTML = `<i class="fas fa-map-marker-alt"></i><span>${event.location}</span>`;

const eventDescription = document.createElement('p');
eventDescription.className = 'event-description';
eventDescription.textContent = event.description;

const eventLink = document.createElement('a');
eventLink.className = 'event-link';
eventLink.href = '#';
eventLink.textContent = 'Learn More ';
eventLink.innerHTML += '<i class="fas fa-arrow-right"></i>';
eventLink.onclick = function(e) {
e.preventDefault();
showEventDetail(event);
};

eventCard.appendChild(eventDate);
eventCard.appendChild(eventTitle);
eventCard.appendChild(eventLocation);
eventCard.appendChild(eventDescription);
eventCard.appendChild(eventLink);

eventsGrid.appendChild(eventCard);
});

yearGroup.appendChild(yearHeader);
yearGroup.appendChild(eventsGrid);
eventsTimeline.appendChild(yearGroup);
});
}

function updateEventList(events) {
const eventList = document.getElementById('eventList');
eventList.innerHTML = '';

// Sort years in descending order
const sortedYears = Object.keys(events).sort((a, b) => b - a);

sortedYears.forEach(year => {
events[year].forEach(event => {
const eventItem = document.createElement('div');
eventItem.className = 'event-item';

const eventItemHeader = document.createElement('div');
eventItemHeader.className = 'event-item-header';

const eventItemTitle = document.createElement('div');
eventItemTitle.className = 'event-item-title';
eventItemTitle.textContent = `${event.title} (${year})`;

const eventItemDate = document.createElement('div');
eventItemDate.className = 'event-item-date';
eventItemDate.textContent = event.date;

const eventItemActions = document.createElement('div');
eventItemActions.className = 'event-item-actions';

const editButton = document.createElement('button');
editButton.innerHTML = '<i class="fas fa-edit"></i>';
editButton.onclick = function() {
editEvent(year, event.id);
};

const deleteButton = document.createElement('button');
deleteButton.innerHTML = '<i class="fas fa-trash"></i>';
deleteButton.onclick = function() {
deleteEvent(year, event.id);
};

eventItemActions.appendChild(editButton);
eventItemActions.appendChild(deleteButton);

eventItemHeader.appendChild(eventItemTitle);
eventItemHeader.appendChild(eventItemDate);
eventItemHeader.appendChild(eventItemActions);

eventItem.appendChild(eventItemHeader);
eventList.appendChild(eventItem);
});
});
}

function showEventForm() {
document.getElementById('eventForm').style.display = 'block';
}

function hideEventForm() {
document.getElementById('eventForm').style.display = 'none';
// Reset form
document.getElementById('eventYear').value = '2024';
document.getElementById('eventDate').value = '';
document.getElementById('eventTitle').value = '';
document.getElementById('eventLocation').value = '';
document.getElementById('eventDescription').value = '';
document.getElementById('eventDetail').value = '';
}

function saveEvent() {
const year = document.getElementById('eventYear').value;
const date = document.getElementById('eventDate').value;
const title = document.getElementById('eventTitle').value;
const location = document.getElementById('eventLocation').value;
const description = document.getElementById('eventDescription').value;
const detail = document.getElementById('eventDetail').value;

if (!title || !date || !location || !description) {
alert('Please fill in all required fields');
return;
}

const eventsData = localStorage.getItem(EVENTS_KEY);
let events = eventsData ? JSON.parse(eventsData) : DEFAULT_EVENTS;

// Create new event
const newEvent = {
id: 'evt' + year + Math.random().toString(36).substr(2, 9),
date,
title,
location,
description,
detail
};

// Add to events
if (!events[year]) {
events[year] = [];
}
events[year].push(newEvent);

// Sort events by date
events[year].sort((a, b) => {
return a.date.localeCompare(b.date);
});

// Save and display
saveEvents(events);
hideEventForm();
showNotification('Event added successfully!');
}

function editEvent(year, eventId) {
const eventsData = localStorage.getItem(EVENTS_KEY);
let events = eventsData ? JSON.parse(eventsData) : DEFAULT_EVENTS;

// Find the event
const event = events[year].find(e => e.id === eventId);
if (!event) return;

// Populate form with event data
document.getElementById('eventYear').value = year;
document.getElementById('eventDate').value = event.date;
document.getElementById('eventTitle').value = event.title;
document.getElementById('eventLocation').value = event.location;
document.getElementById('eventDescription').value = event.description;
document.getElementById('eventDetail').value = event.detail;

// Show form
showEventForm();

// Change save button to update
const saveButton = document.querySelector('#eventForm .btn-save');
saveButton.textContent = 'Update Event';
saveButton.onclick = function() {
updateEvent(year, eventId);
};
}

function updateEvent(year, eventId) {
const date = document.getElementById('eventDate').value;
const title = document.getElementById('eventTitle').value;
const location = document.getElementById('eventLocation').value;
const description = document.getElementById('eventDescription').value;
const detail = document.getElementById('eventDetail').value;

if (!title || !date || !location || !description) {
alert('Please fill in all required fields');
return;
}

const eventsData = localStorage.getItem(EVENTS_KEY);
let events = eventsData ? JSON.parse(eventsData) : DEFAULT_EVENTS;

// Find and update the event
const eventIndex = events[year].findIndex(e => e.id === eventId);
if (eventIndex !== -1) {
events[year][eventIndex] = {
id: eventId,
date,
title,
location,
description,
detail
};

// Sort events by date
events[year].sort((a, b) => {
return a.date.localeCompare(b.date);
});

// Save and display
saveEvents(events);
hideEventForm();
showNotification('Event updated successfully!');
}
}

function deleteEvent(year, eventId) {
if (!confirm('Are you sure you want to delete this event?')) return;

const eventsData = localStorage.getItem(EVENTS_KEY);
let events = eventsData ? JSON.parse(eventsData) : DEFAULT_EVENTS;

// Find and remove the event
events[year] = events[year].filter(e => e.id !== eventId);

// If no events left for this year, remove the year
if (events[year].length === 0) {
delete events[year];
}

// Save and display
saveEvents(events);
showNotification('Event deleted successfully!');
}

function showEventDetail(event) {
const modal = document.getElementById('eventDetailModal');
const title = document.getElementById('eventDetailTitle');
const content = document.getElementById('eventDetailContent');
const image = document.getElementById('eventDetailImage');

// Set title
title.textContent = event.title;

// Set content
content.innerHTML = `
<p><strong>Date:</strong> ${event.date}</p>
<p><strong>Location:</strong> ${event.location}</p>
<p><strong>Description:</strong> ${event.description}</p>
<p><strong>Details:</strong> ${event.detail}</p>
`;

// Hide image (no specific event images in this implementation)
image.style.display = 'none';

// Show modal
modal.style.display = 'block';
}

function closeEventDetailModal() {
document.getElementById('eventDetailModal').style.display = 'none';
}

// Handle file upload
function handleFileUpload(input, key) {
const file = input.files[0];
if (file && file.type.startsWith('image/')) {
const reader = new FileReader();
reader.onload = function(e) {
const imageData = {
id: Date.now() + Math.random(),
src: e.target.result,
name: file.name,
uploadDate: new Date().toISOString()
};

// Save image
saveImage(key, imageData);
showNotification('Image uploaded successfully!');
};
reader.readAsDataURL(file);
}
}

// Handle gallery upload (multiple files)
function handleGalleryUpload(input) {
const files = input.files;
  
if (files.length === 0) return;
  
let galleryData = JSON.parse(localStorage.getItem(IMAGE_KEYS.gallery) || '[]');
let processedCount = 0;
  
// Process each file
Array.from(files).forEach(file => {
if (file.type.startsWith('image/')) {
const reader = new FileReader();
reader.onload = function(e) {
const imageData = {
id: Date.now() + Math.random(),
src: e.target.result,
name: file.name,
uploadDate: new Date().toISOString()
};

galleryData.push(imageData);
processedCount++;

// Save after all files are processed
if (processedCount === files.length) {
localStorage.setItem(IMAGE_KEYS.gallery, JSON.stringify(galleryData));
updateGalleryDisplay(galleryData);

// Show success message
showNotification(`${files.length} image(s) uploaded successfully!`);

// Reset form
input.value = '';
}
};
reader.readAsDataURL(file);
}
});
}

// Update gallery display
function updateGalleryDisplay(galleryData) {
const galleryGrid = document.getElementById('galleryGrid');
const visibleCount = document.getElementById('visibleCount');
const totalCount = document.getElementById('totalCount');
  
// Clear existing gallery items
galleryGrid.innerHTML = '';
  
if (galleryData && galleryData.length > 0) {
// Show first 10 images in main gallery
const displayCount = Math.min(10, galleryData.length);
    
for (let i = 0; i < displayCount; i++) {
const imageData = galleryData[i];
const galleryItem = document.createElement('div');
galleryItem.className = 'gallery-item';
galleryItem.innerHTML = `
<img src="${imageData.src}" alt="${imageData.name}" onclick="openImageModal('${imageData.src}')">
<div class="gallery-overlay">
<h4>${imageData.name}</h4>
<p>Gallery image ${i + 1}</p>
</div>
`;
galleryGrid.appendChild(galleryItem);
}
    
// Update counts
visibleCount.textContent = displayCount;
totalCount.textContent = galleryData.length;
} else {
// Show placeholder if no images
for (let i = 0; i < 4; i++) {
const galleryItem = document.createElement('div');
galleryItem.className = 'gallery-item';
galleryItem.innerHTML = `
<div class="placeholder-image">
<span>No gallery image ${i + 1}</span>
</div>
`;
galleryGrid.appendChild(galleryItem);
}
    
// Update counts
visibleCount.textContent = '0';
totalCount.textContent = '0';
}
  
// Update gallery manager
updateGalleryManager(galleryData);
}

// Update gallery manager
function updateGalleryManager(galleryData) {
const galleryManager = document.getElementById('galleryManager');
const totalGalleryCount = document.getElementById('totalGalleryCount');
  
// Update total count
totalGalleryCount.textContent = galleryData ? galleryData.length : 0;
  
// Clear existing content
galleryManager.innerHTML = '';
  
if (galleryData && galleryData.length > 0) {
// Display gallery images with delete buttons
galleryData.forEach((imageData, index) => {
const imageItem = document.createElement('div');
imageItem.className = 'current-image';
imageItem.innerHTML = `
<img src="${imageData.src}" alt="${imageData.name}">
<div class="image-actions">
<button onclick="deleteGalleryImage(${index})" title="Delete">
<i class="fas fa-trash"></i>
</button>
</div>
`;
galleryManager.appendChild(imageItem);
});
} else {
// Show message if no images
galleryManager.innerHTML = '<p style="text-align: center; color: var(--text-light); font-size: 0.9rem;">No gallery images uploaded yet</p>';
}
}

// Delete gallery image
function deleteGalleryImage(index) {
if (confirm('Are you sure you want to delete this gallery image?')) {
let galleryData = JSON.parse(localStorage.getItem(IMAGE_KEYS.gallery) || '[]');
galleryData.splice(index, 1);
localStorage.setItem(IMAGE_KEYS.gallery, JSON.stringify(galleryData));
updateGalleryDisplay(galleryData);
showNotification('Image deleted successfully!');
}
}

// Show notification
function showNotification(message, type = 'success') {
const notification = document.createElement('div');
notification.className = type === 'error' ? 'upload-error' : 'upload-success';
notification.textContent = message;
notification.style.animation = 'slideDown 0.3s ease';
notification.style.display = 'block';
  
// Add style for error notification
if (type === 'error') {
notification.style.backgroundColor = 'var(--error)';
} else if (type === 'info') {
notification.style.backgroundColor = 'var(--primary)';
}
  
const adminContent = document.querySelector('.admin-content');
adminContent.appendChild(notification);
  
// Hide notification after 3 seconds
setTimeout(() => {
notification.style.display = 'none';
if (notification.parentNode) {
adminContent.removeChild(notification);
}
}, 3000);
}

// Load all images
function loadAllImages() {
// Load all image types
Object.values(IMAGE_KEYS).forEach(key => {
const imageData = loadImage(key);
if (imageData) {
updateImageDisplay(key, imageData);
}
});
}

// Update specific image displays
function updateLogoDisplay(imageData) {
if (imageData) {
document.getElementById('currentLogo').src = imageData.src;
document.getElementById('currentLogo').style.display = 'block';
document.getElementById('logoPlaceholder').style.display = 'none';
document.getElementById('logoInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('logoInfo').style.display = 'block';
    
// Update header logo
document.getElementById('headerLogo').src = imageData.src;
document.getElementById('headerLogo').style.display = 'block';
} else {
document.getElementById('currentLogo').style.display = 'none';
document.getElementById('logoPlaceholder').style.display = 'flex';
document.getElementById('logoInfo').style.display = 'none';
    
// Hide header logo
document.getElementById('headerLogo').style.display = 'none';
}
}

function updateBackgroundDisplay(imageData) {
if (imageData) {
document.getElementById('currentBackground').src = imageData.src;
document.getElementById('currentBackground').style.display = 'block';
document.getElementById('backgroundPlaceholder').style.display = 'none';
document.getElementById('backgroundInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('backgroundInfo').style.display = 'block';
    
// Update hero background
document.getElementById('heroBg').style.backgroundImage = `url(${imageData.src})`;
} else {
document.getElementById('currentBackground').style.display = 'none';
document.getElementById('backgroundPlaceholder').style.display = 'flex';
document.getElementById('backgroundInfo').style.display = 'none';
    
// Remove hero background
document.getElementById('heroBg').style.backgroundImage = '';
}
}

function updateSplashLogoDisplay(imageData) {
if (imageData) {
document.getElementById('currentSplashLogo').src = imageData.src;
document.getElementById('currentSplashLogo').style.display = 'block';
document.getElementById('splashLogoPlaceholder').style.display = 'none';
document.getElementById('splashLogoInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('splashLogoInfo').style.display = 'block';
    
// Update splash logo
document.getElementById('splashLogoImg').src = imageData.src;
document.getElementById('splashLogoImg').style.display = 'block';
} else {
document.getElementById('currentSplashLogo').style.display = 'none';
document.getElementById('splashLogoPlaceholder').style.display = 'flex';
document.getElementById('splashLogoInfo').style.display = 'none';
    
// Hide splash logo
document.getElementById('splashLogoImg').style.display = 'none';
}
}

function updateBeethovenDisplay(imageData) {
if (imageData) {
document.getElementById('currentBeethoven').src = imageData.src;
document.getElementById('currentBeethoven').style.display = 'block';
document.getElementById('beethovenPlaceholder').style.display = 'none';
document.getElementById('beethovenInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('beethovenInfo').style.display = 'block';
    
// Update project image
document.getElementById('beethovenProjectImg').src = imageData.src;
document.getElementById('beethovenProjectImg').style.display = 'block';
document.getElementById('beethovenProjectPlaceholder').style.display = 'none';
} else {
document.getElementById('currentBeethoven').style.display = 'none';
document.getElementById('beethovenPlaceholder').style.display = 'flex';
document.getElementById('beethovenInfo').style.display = 'none';
    
// Hide project image
document.getElementById('beethovenProjectImg').style.display = 'none';
document.getElementById('beethovenProjectPlaceholder').style.display = 'flex';
}
}

function updateBeethovenDetailDisplay(imageData) {
if (imageData) {
document.getElementById('currentBeethovenDetail').src = imageData.src;
document.getElementById('currentBeethovenDetail').style.display = 'block';
document.getElementById('beethovenDetailPlaceholder').style.display = 'none';
document.getElementById('beethovenDetailInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('beethovenDetailInfo').style.display = 'block';
    
// Update detail image
document.getElementById('beethovenDetailImg').src = imageData.src;
document.getElementById('beethovenDetailImg').style.display = 'block';
document.getElementById('beethovenDetailPlaceholder').style.display = 'none';
} else {
document.getElementById('currentBeethovenDetail').style.display = 'none';
document.getElementById('beethovenDetailPlaceholder').style.display = 'flex';
document.getElementById('beethovenDetailInfo').style.display = 'none';
    
// Hide detail image
document.getElementById('beethovenDetailImg').style.display = 'none';
document.getElementById('beethovenDetailPlaceholder').style.display = 'flex';
}
}

function updateJapYeoDisplay(imageData) {
if (imageData) {
document.getElementById('currentJapYeo').src = imageData.src;
document.getElementById('currentJapYeo').style.display = 'block';
document.getElementById('japYeoPlaceholder').style.display = 'none';
document.getElementById('japYeoInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('japYeoInfo').style.display = 'block';
    
// Update artist image
document.getElementById('japYeoImg').src = imageData.src;
document.getElementById('japYeoImg').style.display = 'block';
document.getElementById('japYeoPlaceholder').style.display = 'none';
} else {
document.getElementById('currentJapYeo').style.display = 'none';
document.getElementById('japYeoPlaceholder').style.display = 'flex';
document.getElementById('japYeoInfo').style.display = 'none';
    
// Hide artist image
document.getElementById('japYeoImg').style.display = 'none';
document.getElementById('japYeoPlaceholder').style.display = 'flex';
}
}

function updateKueiPinDisplay(imageData) {
if (imageData) {
document.getElementById('currentKueiPin').src = imageData.src;
document.getElementById('currentKueiPin').style.display = 'block';
document.getElementById('kueiPinPlaceholder').style.display = 'none';
document.getElementById('kueiPinInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('kueiPinInfo').style.display = 'block';
    
// Update artist image
document.getElementById('kueiPinImg').src = imageData.src;
document.getElementById('kueiPinImg').style.display = 'block';
document.getElementById('kueiPinPlaceholder').style.display = 'none';
} else {
document.getElementById('currentKueiPin').style.display = 'none';
document.getElementById('kueiPinPlaceholder').style.display = 'flex';
document.getElementById('kueiPinInfo').style.display = 'none';
    
// Hide artist image
document.getElementById('kueiPinImg').style.display = 'none';
document.getElementById('kueiPinPlaceholder').style.display = 'flex';
}
}

function updateJapTjiDisplay(imageData) {
if (imageData) {
document.getElementById('currentJapTji').src = imageData.src;
document.getElementById('currentJapTji').style.display = 'block';
document.getElementById('japTjiPlaceholder').style.display = 'none';
document.getElementById('japTjiInfo').textContent = `Uploaded: ${new Date().toLocaleString()}`;
document.getElementById('japTjiInfo').style.display = 'block';
    
// Update artist image
document.getElementById('japTjiImg').src = imageData.src;
document.getElementById('japTjiImg').style.display = 'block';
document.getElementById('japTjiPlaceholder').style.display = 'none';
} else {
document.getElementById('currentJapTji').style.display = 'none';
document.getElementById('japTjiPlaceholder').style.display = 'flex';
document.getElementById('japTjiInfo').style.display = 'none';
    
// Hide artist image
document.getElementById('japTjiImg').style.display = 'none';
document.getElementById('japTjiPlaceholder').style.display = 'flex';
}
}

// Login form handler with enhanced security
document.getElementById('loginForm').addEventListener('submit', function(e) {
e.preventDefault();
  
if (isLocked) {
  const remainingTime = Math.ceil((lockTime - Date.now()) / (1000 * 60));
  alert(`Account locked. Please try again in ${remainingTime} minutes.`);
  return;
}
  
const username = document.getElementById('adminUsername').value;
const password = document.getElementById('adminPassword').value;
const errorElement = document.getElementById('loginError');
  
if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
// Successful login
isLoggedIn = true;
loginAttempts = 0;
localStorage.setItem('ymjAdminLoggedIn', 'true');
localStorage.setItem('ymjLoginTime', Date.now().toString());
document.getElementById('adminToggle').classList.add('logged-in');
closeAdminLogin();
toggleAdminDashboard();
showNotification('Login successful!', 'success');
} else {
// Failed login
loginAttempts++;
errorElement.textContent = 'Invalid username or password';
errorElement.style.display = 'block';
  
if (loginAttempts >= MAX_LOGIN_ATTEMPTS) {
  // Lock account
  isLocked = true;
  lockTime = Date.now() + (15 * 60 * 1000); // 15 minutes
  localStorage.setItem('ymjLockedUntil', lockTime.toString());
  
  errorElement.textContent = 'Too many failed attempts. Account locked for 15 minutes.';
  updateLoginAttempts();
  
  // Clear form
  document.getElementById('adminUsername').value = '';
  document.getElementById('adminPassword').value = '';
} else {
  updateLoginAttempts();
}
}
});

// Image Modal
function openImageModal(imageUrl) {
const modal = document.getElementById('imageModal');
const modalImg = document.getElementById('modalImage');
modal.style.display = 'block';
modalImg.src = imageUrl;
}

function closeImageModal() {
document.getElementById('imageModal').style.display = 'none';
}

// Open full gallery modal
function openFullGallery() {
const modal = document.getElementById('full-gallery-modal');
const fullGalleryGrid = document.getElementById('full-gallery-grid');
const galleryData = JSON.parse(localStorage.getItem(IMAGE_KEYS.gallery) || '[]');
  
// Clear existing content
fullGalleryGrid.innerHTML = '';
  
// Add all gallery images to full gallery
galleryData.forEach((imageData, index) => {
const galleryItem = document.createElement('div');
galleryItem.className = 'full-gallery-item';
galleryItem.innerHTML = `
<img src="${imageData.src}" alt="${imageData.name}" onclick="openImageModal('${imageData.src}')">
<div class="full-gallery-overlay">
<p>${imageData.name}</p>
</div>
`;
fullGalleryGrid.appendChild(galleryItem);
});
  
modal.style.display = 'block';
}

// Close full gallery modal
function closeFullGallery() {
document.getElementById('full-gallery-modal').style.display = 'none';
}

// Language translations
const translations = {
en: {
'nav-home': 'Home',
'nav-about': 'About',
'nav-events': 'Events',
'nav-artists': 'Artists',
'nav-beethoven': 'Beethoven 2027',
'nav-gallery': 'Gallery',
'nav-community': 'Community',
'nav-contact': 'Contact',
'mission-title': 'Our Mission',
'events-title': 'Our Events',
'project-title': 'Featured Project',
'gallery-title': 'Gallery',
'artists-title': 'Our Artists',
'beethoven-title': 'Beethoven Bicentennial Initiative',
'community-title': 'Join Our Community',
'contact-title': 'Contact Us',
'newsletter-title': 'Stay Connected',
'survey-title': 'Audience Survey',
'bio': 'Biography',
'repertoire': 'Repertoire',
'media': 'Media'
},
id: {
'nav-home': 'Beranda',
'nav-about': 'Tentang',
'nav-events': 'Acara',
'nav-artists': 'Artis',
'nav-beethoven': 'Beethoven 2027',
'nav-gallery': 'Galeri',
'nav-community': 'Komunitas',
'nav-contact': 'Kontak',
'mission-title': 'Misi Kami',
'events-title': 'Acara Kami',
'project-title': 'Proyek Unggulan',
'gallery-title': 'Galeri',
'artists-title': 'Artis Kami',
'beethoven-title': 'Inisiatif Dua Abad Beethoven',
'community-title': 'Bergabung dengan Komunitas',
'contact-title': 'Hubungi Kami',
'newsletter-title': 'Tetap Terhubung',
'survey-title': 'Survei Penonton',
'bio': 'Biografi',
'repertoire': 'Repertoar',
'media': 'Media'
},
zh: {
'nav-home': '',
'nav-about': '',
'nav-events': '',
'nav-artists': '',
'nav-beethoven': '2027',
'nav-gallery': '',
'nav-community': '',
'nav-contact': '',
'mission-title': '',
'events-title': '',
'project-title': '',
'gallery-title': '',
'artists-title': '',
'beethoven-title': '',
'community-title': '',
'contact-title': '',
'newsletter-title': '',
'survey-title': '',
'bio': '',
'repertoire': '',
'media': ''
}
};

// Language switching functionality
let currentLang = 'en';

document.querySelectorAll('.lang-btn').forEach(btn => {
btn.addEventListener('click', function() {
const lang = this.dataset.lang;
switchLanguage(lang);
});
});

function switchLanguage(lang) {
// Update active language button
document.querySelectorAll('.lang-btn').forEach(btn => {
btn.classList.remove('active');
});
document.querySelector(`.lang-btn[data-lang="${lang}"]`).classList.add('active');

// Hide all content
document.querySelectorAll('.content-en, .content-id, .content-zh').forEach(content => {
content.classList.remove('active');
});

// Show selected language content
document.querySelectorAll(`.content-${lang}`).forEach(content => {
content.classList.add('active');
});

// Update navigation text
if (translations[lang]) {
document.querySelectorAll('[data-lang]').forEach(element => {
const key = element.dataset.lang;
if (translations[lang][key]) {
element.textContent = translations[lang][key];
}
});
}

currentLang = lang;
}

// Splash screen functionality
document.addEventListener('DOMContentLoaded', function() {
const splashScreen = document.getElementById('splashScreen');
const mainContent = document.getElementById('mainContent');

// Add click event to splash screen to hide it
splashScreen.addEventListener('click', function() {
splashScreen.style.opacity = '0';
splashScreen.style.visibility = 'hidden';
mainContent.classList.add('active');
});

// Also add click event to splash content
document.querySelector('.splash-content').addEventListener('click', function(e) {
e.stopPropagation(); // Prevent event bubbling
splashScreen.style.opacity = '0';
splashScreen.style.visibility = 'hidden';
mainContent.classList.add('active');
});

// Initialize page
checkAdminStatus();
loadAllImages();
loadEvents();
switchLanguage('en');

// Add smooth page load
document.body.style.opacity = '0';
setTimeout(() => {
document.body.style.transition = 'opacity 0.5s ease';
document.body.style.opacity = '1';
}, 100);
});

// Close modal when clicking outside
window.onclick = function(event) {
const imageModal = document.getElementById('imageModal');
const fullGalleryModal = document.getElementById('full-gallery-modal');
const eventDetailModal = document.getElementById('eventDetailModal');

if (event.target == imageModal) {
closeImageModal();
}

if (event.target == fullGalleryModal) {
closeFullGallery();
}

if (event.target == eventDetailModal) {
closeEventDetailModal();
}
}

// Initialize form handlers
document.addEventListener('DOMContentLoaded', function() {
// Contact form
const contactForms = document.querySelectorAll('form[name="contact"]');
contactForms.forEach(form => {
const messageElement = form.parentElement.querySelector('.form-message');
const lang = form.closest('.content-en, .content-id, .content-zh').className.split(' ')[1].replace('active', '');

const messages = {
en: {
success: 'Thank you for your message! We will get back to you soon.',
error: 'Sorry, there was an error sending your message. Please try again.'
},
id: {
success: 'Terima kasih atas pesan Anda! Kami akan segera menghubungi Anda.',
error: 'Maaf, terjadi kesalahan saat mengirim pesan. Silakan coba lagi.'
},
zh: {
success: '',
error: ''
}
};

form.addEventListener('submit', function(e) {
e.preventDefault();

// Show loading state
const submitBtn = form.querySelector('button[type="submit"]');
const originalText = submitBtn.textContent;
submitBtn.textContent = 'Sending...';
submitBtn.disabled = true;

// Prepare form data
const formData = new FormData(form);

// Submit to Netlify
fetch('/', {
method: 'POST',
headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
body: new URLSearchParams(formData).toString()
})
.then(() => {
// Show success message
messageElement.textContent = messages[lang].success;
messageElement.className = 'form-message success';
messageElement.style.display = 'block';

// Reset form
form.reset();

// Reset button
submitBtn.textContent = originalText;
submitBtn.disabled = false;

// Hide message after 5 seconds
setTimeout(() => {
messageElement.style.display = 'none';
}, 5000);
})
.catch((error) => {
// Show error message
messageElement.textContent = messages[lang].error;
messageElement.className = 'form-message error';
messageElement.style.display = 'block';

console.error('Form submission error:', error);

// Reset button
submitBtn.textContent = originalText;
submitBtn.disabled = false;

// Hide message after 5 seconds
setTimeout(() => {
messageElement.style.display = 'none';
}, 5000);
});
});
});

// Newsletter form
const newsletterForms = document.querySelectorAll('form[name="newsletter"]');
newsletterForms.forEach(form => {
const submitBtn = form.querySelector('button[type="submit"]');
const originalText = submitBtn.textContent;

form.addEventListener('submit', function(e) {
e.preventDefault();

// Show loading state
submitBtn.textContent = 'Subscribing...';
submitBtn.disabled = true;

// Prepare form data
const formData = new FormData(form);

// Submit to Netlify
fetch('/', {
method: 'POST',
headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
body: new URLSearchParams(formData).toString()
})
.then(() => {
// Show success
submitBtn.textContent = 'Subscribed!';
submitBtn.style.backgroundColor = 'var(--success)';

// Reset form
form.reset();

// Reset button after 3 seconds
setTimeout(() => {
submitBtn.textContent = originalText;
submitBtn.style.backgroundColor = '';
submitBtn.disabled = false;
}, 3000);
})
.catch((error) => {
// Show error
submitBtn.textContent = 'Error. Try again';
submitBtn.style.backgroundColor = 'var(--error)';

console.error('Newsletter subscription error:', error);

// Reset button after 3 seconds
setTimeout(() => {
submitBtn.textContent = originalText;
submitBtn.style.backgroundColor = '';
submitBtn.disabled = false;
}, 3000);
});
});
});

// Survey form
const surveyForms = document.querySelectorAll('form[name="audience-survey"]');
surveyForms.forEach(form => {
const submitBtn = form.querySelector('button[type="submit"]');
const originalText = submitBtn.textContent;

form.addEventListener('submit', function(e) {
e.preventDefault();

// Show loading state
submitBtn.textContent = 'Submitting...';
submitBtn.disabled = true;

// Prepare form data
const formData = new FormData(form);

// Submit to Netlify
fetch('/', {
method: 'POST',
headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
body: new URLSearchParams(formData).toString()
})
.then(() => {
// Show success
submitBtn.textContent = 'Submitted!';
submitBtn.style.backgroundColor = 'var(--success)';

// Reset form
form.reset();

// Reset button after 3 seconds
setTimeout(() => {
submitBtn.textContent = originalText;
submitBtn.style.backgroundColor = '';
submitBtn.disabled = false;
}, 3000);
})
.catch((error) => {
// Show error
submitBtn.textContent = 'Error. Try again';
submitBtn.style.backgroundColor = 'var(--error)';

console.error('Survey submission error:', error);

// Reset button after 3 seconds
setTimeout(() => {
submitBtn.textContent = originalText;
submitBtn.style.backgroundColor = '';
submitBtn.disabled = false;
}, 3000);
});
});
});

// Mobile menu toggle
const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
const navMenu = document.querySelector('.nav-menu');

mobileMenuToggle.addEventListener('click', function() {
navMenu.classList.toggle('active');
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
anchor.addEventListener('click', function(e) {
e.preventDefault();

const targetId = this.getAttribute('href');
if (targetId === '#') return;

const targetElement = document.querySelector(targetId);
if (targetElement) {
const headerHeight = document.querySelector('header').offsetHeight;
const targetPosition = targetElement.offsetTop - headerHeight;

window.scrollTo({
top: targetPosition,
behavior: 'smooth'
});

// Close mobile menu if open
navMenu.classList.remove('active');
}
});
});

// Scroll animations
const fadeElements = document.querySelectorAll('.fade-in');

function checkFade() {
fadeElements.forEach(element => {
const elementTop = element.getBoundingClientRect().top;
const elementBottom = element.getBoundingClientRect().bottom;

if (elementTop < window.innerHeight && elementBottom > 0) {
element.classList.add('visible');
}
});
}

window.addEventListener('scroll', checkFade);
checkFade(); // Check on page load
});

// Setup file input listeners
document.addEventListener('DOMContentLoaded', function() {
// Check admin status and load images
checkAdminStatus();
loadAllImages();

// Setup file inputs
document.getElementById('logoInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.logo);
});

document.getElementById('backgroundInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.background);
});

document.getElementById('splashLogoInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.splashLogo);
});

document.getElementById('beethovenInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.beethoven);
});

document.getElementById('beethovenDetailInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.beethovenDetail);
});

document.getElementById('japYeoInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.japYeo);
});

document.getElementById('kueiPinInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.kueiPin);
});

document.getElementById('japTjiInput').addEventListener('change', function() {
handleFileUpload(this, IMAGE_KEYS.japTji);
});

// Gallery upload
document.getElementById('galleryInput').addEventListener('change', function() {
handleGalleryUpload(this);
});
});
</script>
</body>
</html>
